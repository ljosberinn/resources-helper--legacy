var rHelper={init:{user:function(){rHelper.methods.INSRT_userSettings();rHelper.init.core()},core:function(){rHelper.methods.SET_tabSwitcherAnchorBased();rHelper.methods.SET_transportCost("init");$.each(rHelper.data.material,function(a){rHelper.methods.EVNT_materialInput(a);rHelper.methods.INSRT_materialData(a);rHelper.methods.INSRT_warehouseData(a,"material");rHelper.methods.INSRT_priceHistoryName("material",a)});rHelper.methods.INSRT_totalMineWorth(rHelper.methods.CALC_totalMineWorth());rHelper.methods.INSRT_totalMineCount(rHelper.methods.CALC_totalMineCount());
var a=rHelper.methods.GET_calculationOrder();$.each(a,function(a,b){rHelper.methods.EVNT_factoryInput(b);rHelper.methods.INSRT_factoryDiamondData(b,"product");rHelper.methods.INSRT_warehouseData(b,"products");rHelper.methods.INSRT_priceHistoryName("products",b)});$.each(rHelper.data.loot,function(a){rHelper.methods.INSRT_warehouseData(a,"loot");rHelper.methods.INSRT_priceHistoryName("loot",a);4==a||10<=a&&13>=a||(rHelper.methods.SET_recyclingProfitObj(a),rHelper.methods.INSRT_recycling(a))});var b=
["SET_UnitProfitObj","INSRT_unitsCraftingPrice","INSRT_unitsMarketPrice","INSRT_unitsPricePerStrength"];$.each(rHelper.data.units,function(a,c){rHelper.methods.INSRT_warehouseData(a,"units");$.each(b,function(b,c){rHelper.methods[c](a)});rHelper.methods.INSRT_unitsRecyclingProfit("units",a);rHelper.methods.INSRT_priceHistoryName("units",a)});var c=["INSRT_buildingName","SET_buildingBackgroundColor","INSRT_buildingData","INSRT_buildingToLevel10","EVNT_buildingChange"];$.each(rHelper.data.buildings,
function(a){$.each(c,function(b,c){rHelper.methods[c](a)})});var d="INSRT_headquarterOvwString INSRT_headquarterOvwRadius INSRT_headquarterOvwCost INSRT_headquarterOvwBoost INSRT_headquarterOvwTransportation EVNT_switchHeadquarter".split(" ");$.each(rHelper.data.headquarter,function(a){$.each(d,function(b,c){rHelper.methods[c](a)})});$.each(["material"],function(a,b){rHelper.methods.EVNT_buildGraph(b)});$.each(["buildings","headquarter"],function(a,b){rHelper.methods.INSRT_gaugeGraph(b)});$.each("INSRT_materialMineAmortisation INSRT_materialHighlightMinePerfectIncome INSRT_totalFactoryUpgrades INSRT_factoryHighlightColumns INSRT_diamondTop10Profit INSRT_diamondTotalProfit INSRT_flowDistributionGlobal INSRT_warehouseTotalLevel INSRT_warehouseTotalWorth EVNT_priceHistoryOnChange SET_hqLevel EVNT_headquarterInput INSRT_missions INSRT_techUpgradeRows EVNT_attackLogTrigger INSRT_companyWorth EVNT_sortableTables EVNT_assignTitleToIcons EVNT_enableTippy".split(" "),
function(a,b){rHelper.methods[b]()})}},methods:{GET_calculationOrder:function(){return[0,1,2,3,4,7,8,9,10,15,17,18,5,6,13,19,11,12,14,16,20,21]},API_toggleLoadSuccessorHelper:function(a){$.each(["API_toggleLoader","API_toggleSuccessor","API_toggleSuccessorHelper"],function(b,c){rHelper.methods[c](a)})},API_toggleLoader:function(a){a=$("#api-"+a+"-loading");"none"==a.css("display")?a.fadeIn("fast").css("display","flex"):a.fadeOut("fast")},API_toggleSuccessor:function(a){a=$("#api-"+a+"-finished");
"none"==a.css("display")?a.fadeIn("fast"):a.fadeOut("fast")},API_toggleSuccessorHelper:function(a){setTimeout(function(){rHelper.methods.API_toggleSuccessor(a)},15E3)},API_getFactories:function(a){rHelper.methods.API_toggleLoader("factories");$.get("api/core.php?query=1&key="+a+"",function(a){$.each(a,function(a,b){rHelper.data.products[a].factoryLevel=b});a=rHelper.methods.GET_calculationOrder();$.each(a,function(a,b){rHelper.methods.INSRT_factoryDiamondData(b,"product")});rHelper.methods.INSRT_totalFactoryUpgrades();
rHelper.methods.INSRT_factoryHighlightColumns();rHelper.methods.INSRT_diamondTop10Profit();rHelper.methods.INSRT_diamondTotalProfit();rHelper.methods.INSRT_flowDistributionGlobal();rHelper.methods.API_toggleLoadSuccessorHelper("factories");sorttable.innerSortFunction.apply($("#module-diamond th")[4],[]);sorttable.innerSortFunction.apply($("#module-diamond th")[5],[])})},API_getWarehouse:function(a){rHelper.methods.API_toggleLoader("warehouse");$.getJSON("api/core.php?query=2&key="+a,function(a){$.each(a,
function(a,b){var c=a,d="material";14<=a&&36>a?(c-=14,d="products"):36<=a&&52>a?(c-=36,d="loot"):52<=a&&(c-=52,d="units");var f=5E3*Math.pow(b.level,2),h=b.amount/f;isNaN(h)&&(h=0);rHelper.data[d][c].warehouse.level=b.level;rHelper.data[d][c].warehouse.fillAmount=b.amount;rHelper.data[d][c].warehouse.contingent=f;rHelper.data[d][c].warehouse.fillStatus=h});$.each(rHelper.data.material,function(a){rHelper.methods.INSRT_warehouseData(a,"material")});a=rHelper.methods.GET_calculationOrder();$.each(a,
function(a,b){rHelper.methods.INSRT_warehouseData(a,"products")});$.each(rHelper.data.loot,function(a){rHelper.methods.INSRT_warehouseData(a,"loot")});$.each(rHelper.data.units,function(a,b){rHelper.methods.INSRT_warehouseData(a,"units")});rHelper.methods.INSRT_warehouseTotalLevel();rHelper.methods.INSRT_warehouseTotalWorth();rHelper.methods.API_toggleLoadSuccessorHelper("warehouse")})},API_getMineSummary:function(a){rHelper.methods.API_toggleLoader("mines-summary");$.get("api/core.php?query=51&key="+
a+"",function(a){$.each(a,function(a,b){rHelper.data.material[a].perHour=b.perHour;rHelper.data.material[a].amountOfMines=b.amountOfMines});$.each(rHelper.data.material,function(a){rHelper.methods.INSRT_materialData(a,"api")});rHelper.methods.INSRT_totalMineWorth(rHelper.methods.CALC_totalMineWorth());rHelper.methods.INSRT_totalMineCount(rHelper.methods.CALC_totalMineCount());rHelper.methods.INSRT_materialMineAmortisation();rHelper.methods.INSRT_materialHighlightMinePerfectIncome();rHelper.methods.EVNT_buildGraph("material");
rHelper.methods.INSRT_flowDistributionGlobal();rHelper.methods.API_toggleLoadSuccessorHelper("mines-summary")})},API_getMineMap:function(){$.getJSON("api/core.php?mineMap",function(a){rHelper.data.mineMap=a;rHelper.methods.API_toggleLoadSuccessorHelper("mines-detailed");rHelper.methods.EVNT_mapCreation("personal");rHelper.methods.SET_overTimeGraph()})},API_getMineMapInitiator:function(a){rHelper.methods.API_toggleLoader("mines-detailed");$.getJSON("api/core.php?query=5&key="+a,function(a){"rHelper.methods.API_getMineMap()"==
a.callback?rHelper.methods.API_getMineMap():swal("Error","Couldn't fetch mine details - API potentially unavailable!","error")})},API_getPlayerInfo:function(a,b){rHelper.methods.API_toggleLoader("player");var c="api/core.php?query=7&key="+a;b&&(c+="&anonymity=true");$.getJSON(c,function(a){rHelper.data.userInformation.level=a.lvl;rHelper.data.userInformation.points=a.points;rHelper.data.userInformation.rank=a.worldrank;a.name&&(rHelper.data.userInformation.name=a.name);rHelper.data.userInformation.registeredGame=
rHelper.methods.CALC_convertDateToIso(a.registerdate);rHelper.methods.API_toggleLoadSuccessorHelper("player")})},API_getAttackLog:function(a){"undefined"==typeof a&&(a="attackSimple");$.getJSON("api/core.php?attackLog&type="+a,function(b){rHelper.data.attackLog=b;rHelper.methods.API_toggleLoadSuccessorHelper("attack-log");rHelper.methods.INSRT_attackLog(a)})},API_getAttackLogInitiator:function(a){rHelper.methods.API_toggleLoader("attack-log");$.getJSON("api/core.php?query=9&key="+a,function(a){console.log(a);
'rHelper.methods.API_getAttackLog("simple")'==a.callback?rHelper.methods.API_getAttackLog("attackSimple"):swal("Error","Couldn't fetch attack log - API potentially unavailable!","error")})},API_getTradeLog:function(){$.getJSON("api/core.php?tradeLog",function(a){rHelper.data.tradeLog=a;rHelper.methods.API_toggleLoadSuccessorHelper("trade-log")})},API_getTradeLogInitiator:function(a){rHelper.methods.API_toggleLoader("trade-log");$.getJSON("api/core.php?query=6&key="+a,function(a){"rHelper.methods.API_getTradeLog()"==
a.callback?rHelper.methods.API_getTradeLog():swal("Error","Couldn't fetch trade log - API potentially unavailable!","error")})},API_getMissions:function(){$.getJSON("api/core.php?missions",function(a){rHelper.data.missions=a;rHelper.methods.API_toggleLoadSuccessorHelper("missions");rHelper.methods.INSRT_missions()})},API_getMissionsInitiator:function(a){rHelper.methods.API_toggleLoader("missions");$.getJSON("api/core.php?query=10&key="+a,function(a){"rHelper.methods.API_getMissions()"==a.callback&&
rHelper.methods.API_getMissions()})},API_getBuildings:function(a){rHelper.methods.API_toggleLoader("buildings");$.getJSON("api/core.php?query=3&key="+a,function(a){var b=["INSRT_buildingName","SET_buildingBackgroundColor","INSRT_buildingData","INSRT_buildingToLevel10"];$.each(a,function(a,c){rHelper.data.buildings[a].level=c;$.each(b,function(b,c){rHelper.methods[c](a)})});rHelper.methods.INSRT_gaugeGraph("buildings");rHelper.methods.API_toggleLoadSuccessorHelper("buildings")})},API_getHeadquarter:function(a){rHelper.methods.API_toggleLoader("headquarter");
$.getJSON("api/core.php?query=4&key="+a,function(a){rHelper.data.headquarter.user=rHelper.data.headquarter.user||{hqPosition:{lon:0,lat:0},level:0,paid:[0,0,0,0]};rHelper.data.headquarter.user.hqPosition.lat=a.lat;rHelper.data.headquarter.user.hqPosition.lon=a.lon;rHelper.data.headquarter.user.level=a.level;$.each(a.paid,function(a,b){rHelper.data.headquarter.user.paid[a]=b});rHelper.methods.INSRT_gaugeGraph("headquarter");rHelper.methods.SET_hqLevel();rHelper.methods.API_toggleLoadSuccessorHelper("headquarter")})},
API_getCreditInformation:function(a){$("#api-credits").html('<span id="api-credits-loading" class="circles-to-rhombuses-spinner"><span class="rhombuses-circle"></span><span class="rhombuses-circle"></span><span class="rhombuses-circle"></span></span>');$("#api-credits-loading").css("display","flex");$.get("api/core.php?query=0&key="+a+"",function(a){a=parseInt(a[0].creditsleft);rHelper.data.userInformation.remainingCredits=a;rHelper.methods.INSRT_API_remainingCredits(a);$("#api-submit").attr("disabled",
!1);$("#api-credits-loading").css("display","none")})},API_init:function(a,b,c){$.isArray(b)&&$.each(b,function(b,e){switch(e){case 1:rHelper.methods.API_getFactories(a);break;case 2:rHelper.methods.API_getWarehouse(a);break;case 3:rHelper.methods.API_getBuildings(a);break;case 4:rHelper.methods.API_getHeadquarter(a);break;case 5:rHelper.methods.API_getMineMapInitiator(a);break;case 51:rHelper.methods.API_getMineSummary(a);break;case 6:rHelper.methods.API_getTradeLogInitiator(a);break;case 7:rHelper.methods.API_getPlayerInfo(a,
c);break;case 9:rHelper.methods.API_getAttackLogInitiator(a);break;case 10:rHelper.methods.API_getMissionsInitiator(a);break;default:rHelper.methods.API_getCreditInformation(a)}})},API_getWorldMap:function(a){$.getJSON("api/core.php?worldMap="+a,function(a){rHelper.data.worldMap=a;rHelper.methods.EVNT_mapCreation("world")})},SET_globalObject:function(a,b,c,d){$.isArray(c)?(rHelper.data[a][b][c[0]][c[1]]=d,console.log(a,b,c[0],c[1],d)):(rHelper.data[a][b][c]=d,console.log(a,b,c,d))},SET_save:function(){localStorage.setItem("rGame",
JSON.stringify(rHelper.data))},SET_tabSwitcherAnchorBased:function(){var a="#"+window.location.hash.substr(1);"#"==a&&(a=1!=getCookie("loggedIn")?"#registrationlogin":"#factories");$(".nav-link").each(function(b,c){var d=$(c),e=$("#"+c.dataset.target);d.attr("href")==a?(e.css("display","block"),d.addClass("active")):(e.css("display","none"),d.removeClass("active"))})},SET_transportCost:function(a){rHelper.data.buildings[9].transportCost=1+(15-rHelper.data.buildings[9].level)/100;a||($.each(rHelper.data.buildings,
function(a){$.each(["SET_buildingBackgroundColor","INSRT_buildingData","INSRT_buildingToLevel10"],function(b,d){rHelper.methods[d](a)})}),a=rHelper.methods.GET_calculationOrder(),$.each(a,function(a,c){$.each(["INSRT_factoryUpgradeCost","INSRT_factoryROI"],function(a,b){rHelper.methods[b](c)});rHelper.methods.INSRT_flowDistributionGlobal()}),$.each(rHelper.data.headquarter,function(a){rHelper.methods.INSRT_headquarterOvwTransportation(a)}))},SET_buildingBackgroundColor:function(a){var b=rHelper.data.buildings[a].level,
c=255-10*b,d=127+7*b,b=80-3*b;$("#building-"+a).css("background-color","rgba("+c+", "+d+", "+b+", 0.25)")},SET_buildingTableVisibility:function(a,b){var c=$("#building-"+a+" tbody"),d=$("#building-"+a+" tfoot");$.each([c,d],function(a,c){switch(b){case "show":"none"==c.css("display")&&c.css("display","table-row-group");break;case "hide":"none"!=c.css("display")&&c.css("display","none")}})},SET_recyclingProfitObj:function(a){rHelper.data.loot[a].profit={outputWorth:0,inputWorth:0,profit:0}},SET_recyclingPlantLevel:function(){$.each(rHelper.data.loot,
function(a){4==a||10<=a&&13>=a||($.each(["INSRT_recyclingProducts","INSRT_recyclingOutputWorth","INSRT_recyclingInputWorth"],function(b,c){rHelper.methods[c](a)}),rHelper.methods.INSRT_unitsRecyclingProfit("recycling",a))})},SET_UnitProfitObj:function(a){rHelper.data.units[a].profit={craftingPrice:0,marketPrice:0,profit:0}},SET_hqLevel:function(){var a=rHelper.data.headquarter;if(a.user){var b=a.user.level;rHelper.methods.SET_hqSelectorClass(b-1);rHelper.methods.INSRT_headquarterPaid();$.each(["INSRT_headquarterContentRequiredAmount",
"INSRT_headquarterMissing","INSRT_headquarterRemainingCost"],function(a,d){rHelper.methods[d](b)})}},SET_hqSelectorClass:function(a){for(var b=0;9>=b;b+=1)a!=b?$(".hq-thumb-"+b).addClass("disabled-hq"):$(".hq-thumb-"+b).removeClass("disabled-hq")},SET_newMap:function(a,b,c){return new google.maps.Map(a[0],{zoom:b,mapTypeId:c})},SET_mapOptions:function(a,b,c){a.setOptions({maxZoom:b,center:new google.maps.LatLng(c.lat,c.lon)});return a},SET_mapImg:function(a,b,c){return{url:"assets/img/maps/"+a+"/"+
b+".png",scaledSize:new google.maps.Size(c,c)}},SET_mapInfoWindow:function(a){return new google.maps.InfoWindow({content:a})},SET_mapFolderRelation:function(a){var b="foe";"friend"==a&&(b="friend");return b},SET_mapHQHandler:function(a,b){var c=b.level,d={lat:b.lat,lng:b.lon};rHelper.methods.SET_mapHqCircle(a,d,rHelper.data.headquarter[c-1].radius,b.relation);new google.maps.Marker({map:a,position:d,icon:rHelper.methods.SET_mapImg("hq",c,12.5*c)})},SET_mapHqCircle:function(a,b,c,d){var e="#FF0000";
"friend"==d&&(e="#00FF00");return new google.maps.Circle({strokeColor:e,strokeOpacity:.8,strokeWeight:2,fillColor:e,fillOpacity:.35,map:a,center:b,radius:c,draggable:!0})},SET_mapMineHandler:function(a,b,c,d){var e=b.type,g=rHelper.data.material[e],f=rHelper.methods.CALC_toMilliseconds(b.builddate),h=rHelper.methods.CALC_convertDateToIso(f);a=(a-f)/1E3/86400;var f=rHelper.methods.CALC_mineEstRevenue(b,e,a),g=rHelper.methods.CALC_createMapContentString(g,h,a,f,b),k=rHelper.methods.SET_mapInfoWindow(g),
l=new google.maps.Marker({map:c,position:{lat:b.lat,lng:b.lon},icon:rHelper.methods.SET_mapImg(rHelper.methods.SET_mapFolderRelation(b.relation),e,20)});"personal"==d&&b.builddate==rHelper.data.mineMap.mines[0].builddate&&l.setAnimation(google.maps.Animation.BOUNCE);google.maps.event.addListener(l,"click",function(){openedWindow&&openedWindow.close();openedWindow=k;k.open(c,l)})},SET_overTimeGraph:function(){for(var a=rHelper.data.mineMap.mines,b=[],c=[],d=[],e=[],g=[],f=0;23>=f;f+=1)g.push([f+" to "+
(f+1),0]);$.each(a,function(a,b){var c=(new Date(rHelper.methods.CALC_toMilliseconds(b.builddate))).getHours();g[c][1]+=1});Highcharts.chart("graph-buildinghabits",{chart:{type:"column",backgroundColor:"transparent"},title:{text:"Building habits per hour",style:{color:"#dedede"}},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif",color:"#dedede"}}},yAxis:{min:0,title:{text:"Amount of mines",style:{color:"#dedede"}},labels:{style:{color:"#dedede"}}},
legend:{enabled:!1},tooltip:{pointFormat:"Mines built at this hour: <b>{point.y}</b>"},series:[{name:"Mines",data:g,dataLabels:{enabled:!0,rotation:-90,color:"#dedede",align:"right",y:10,style:{fontSize:"13px",fontFamily:"Verdana, sans-serif",color:"#dedede"}}}]});var f=a[0].builddate,h=(a[a.length-1].builddate-f)/86400;b.push(rHelper.methods.CALC_toMilliseconds(f));for(var k=0;k<=h;k+=1){var l=rHelper.methods.CALC_toMilliseconds(f+86400*k);b.push(l)}$.each(b,function(g,f){var h=0,k=0,l=0;$.each(a,
function(a,b){rHelper.methods.CALC_toMilliseconds(b.builddate)<=f&&(h+=1,l+=rHelper.methods.CALC_returnPriceViaId(b.type)*b.fullRate)});$.each(rHelper.data.material,function(a,b){k+=rHelper.methods.CALC_materialNewMinePrice(h,a)});e.push(Math.round(l));c.push(h);d.push(Math.round(k/14));b[g]=rHelper.methods.CALC_convertDateToIso(f)});Highcharts.chart("graph-overtime",{chart:{type:"spline",zoomType:"x",backgroundColor:"transparent"},title:{useHTML:!0,text:"Progress graph",style:{color:"#dedede"}},
xAxis:{categories:b,labels:{style:{color:"#dedede"}}},yAxis:{title:{text:"Price or mine count over time",style:{color:"#dedede"}},labels:{formatter:function(){return this.value.toLocaleString("en-US")},style:{color:"#dedede"}}},legend:{enabled:!0,backgroundColor:"#dedede"},tooltip:{crosshairs:!0,shared:!0},plotOptions:{spline:{marker:{radius:4,lineColor:"#666666",lineWidth:1}}},series:[{name:"Mine count",marker:{symbol:"square"},data:c,color:"orange"},{name:"Average cost of a new mine",marker:{symbol:"diamond"},
data:d,color:"coral"},{name:"Average income at given time",marker:{symbol:"triangle"},data:e,color:"yellowgreen"}]})},EVNT_enableTippy:function(){$.each($("[title]"),function(a,b){b._tippy||tippy(b,{dynamicTitle:!0})})},EVNT_assignTitleToIconsHelper:function(a,b,c,d){var e={};for(e.i=a;e.i<=b;e={i:e.i},e.i+=1)$.each($(".resources-"+c+"-"+e.i+""),function(a){return function(b,c){if(!$(c).attr("title")){var e=a.i+d;$(c).attr("title",rHelper.methods.CALC_returnPriceViaId(e).toLocaleString("en-US"))}}}(e))},
EVNT_assignTitleToIcons:function(){rHelper.methods.EVNT_assignTitleToIconsHelper(0,13,"material",0);rHelper.methods.EVNT_assignTitleToIconsHelper(0,21,"product",14);rHelper.methods.EVNT_assignTitleToIconsHelper(0,16,"loot",36);rHelper.methods.EVNT_assignTitleToIconsHelper(0,5,"unit",52)},EVNT_sortableTables:function(){var a=[$("#module-mines table")[0],$("#module-factories table")[0],$("#module-diamond table")[0],$("#techupgrades-combinations-tbl")[0],$("#recycling-tbl")[0],$("#units-tbl")[0]];$.each(a,
function(a,c){sorttable.makeSortable(c);2==a?sorttable.innerSortFunction.apply($("#module-diamond th")[5],[]):4==a&&(sorttable.innerSortFunction.apply($("#techupgrades-combinations-tbl th")[5],[]),sorttable.innerSortFunction.apply($("#techupgrades-combinations-tbl th")[5],[]))})},EVNT_factoryInput:function(a){$("#factories-level-"+a).on("input",function(){var a=parseInt(this.id.replace("factories-level-","")),c=parseInt(this.value);rHelper.methods.SET_globalObject("products",a,"factoryLevel",c);$.each("INSRT_factoryOutput INSRT_factoryUpgradeCost INSRT_factoryDependencies INSRT_factoryWorkload INSRT_factoryTurnover INSRT_factoryTurnoverPerUpgrade INSRT_factoryROI INSRT_diamondFactoryLevel INSRT_diamondFactoryOutput INSRT_diamondFactoryOutputWarehouse INSRT_diamondDependencies INSRT_diamondEfficiency INSRT_diamondProfit".split(" "),
function(b,c){rHelper.methods[c](a)});rHelper.methods.CALC_dependantFactories(a,"product");rHelper.methods.INSRT_diamondTop10Profit();rHelper.methods.INSRT_diamondTotalProfit();rHelper.methods.INSRT_flowRate(a,"product");rHelper.methods.INSRT_flowDistributionGlobal();rHelper.methods.INSRT_factoryHighlightColumns()})},EVNT_materialInput:function(a){$("#material-rate-"+a).on("input",function(){var a=this.id.replace("material-rate-",""),c=parseInt(this.value);rHelper.methods.SET_globalObject("material",
a,"perHour",c);rHelper.methods.INSRT_materialRateWorth(a);rHelper.methods.INSRT_totalMineWorth(rHelper.methods.CALC_totalMineWorth());rHelper.methods.CALC_dependantFactories(a,"material");rHelper.methods.INSRT_flowRate(a,"material");rHelper.methods.INSRT_flowDistributionGlobal();rHelper.methods.EVNT_buildGraph("material")});$("#material-amount-of-mines-"+a).on("input",function(){var a=this.id.replace("material-amount-of-mines-",""),c=parseInt(this.value);rHelper.methods.SET_globalObject("material",
a,"amountOfMines",c);$.each(rHelper.data.material,function(a){rHelper.methods.INSRT_materialNewMinePrice(a)});rHelper.methods.INSRT_warehouseRemainingTimeToFull(a,"material");rHelper.methods.INSRT_materialMineAmortisation();rHelper.methods.INSRT_totalMineCount(rHelper.methods.CALC_totalMineCount());rHelper.methods.EVNT_buildGraph("material")})},EVNT_warehouseInput:function(a,b){$("#warehouse-"+b+"-calc-2-"+a).on("input",function(){var c=parseInt(this.value);isNaN(c)&&(c=0);rHelper.methods.INSRT_warehouseUpgradeCost(a,
b,c)});$("#warehouse-"+b+"-calc-1-"+a).on("change",function(){$("#warehouse-"+b+"-upgrade-cost-"+a).empty();$("#warehouse-"+b+"-calc-2-"+a).val(0)});$("#warehouse-"+b+"-stock-current-"+a).on("input",function(){var c=parseInt(this.value);isNaN(c)&&(c=0);var d=c/rHelper.data[b][a].warehouse.contingent;rHelper.methods.SET_globalObject(b,a,["warehouse","fillAmount"],c);rHelper.methods.SET_globalObject(b,a,["warehouse","fillStatus"],d);$.each(["INSRT_warehouseWorth","INSRT_warehouseFillStatus","INSRT_warehouseRemainingTimeToFull"],
function(c,d){rHelper.methods[d](a,b)});rHelper.methods.INSRT_warehouseTotalWorth()});$("#warehouse-"+b+"-level-"+a).on("input",function(){var c=parseInt(this.value);isNaN(c)&&(c=0);var d=rHelper.data[b][a].warehouse;rHelper.methods.SET_globalObject(b,a,["warehouse","level"],c);rHelper.methods.SET_globalObject(b,a,["warehouse","contingent"],rHelper.methods.CALC_warehouseContingent(c));rHelper.methods.SET_globalObject(b,a,["warehouse","fillStatus"],d.fillAmount/d.contingent);$.each(["INSRT_warehouseCapacity",
"INSRT_warehouseFillStatus","INSRT_warehouseRemainingTimeToFull"],function(c,d){rHelper.methods[d](a,b)});rHelper.methods.INSRT_warehouseTotalLevel()})},EVNT_buildingChange:function(a){$("#buildings-level-"+a).on("change",function(){var b=parseInt(this.value);rHelper.methods.SET_globalObject("buildings",a,"level",b);9==a?rHelper.methods.SET_transportCost():5==a&&rHelper.methods.SET_recyclingPlantLevel();3!=a&&4!=a&&9!=a||$.each(rHelper.data.units,function(a){rHelper.methods.INSRT_unitsPricePerStrength(a)});
$.each(["INSRT_buildingData","INSRT_buildingToLevel10","SET_buildingBackgroundColor"],function(b,d){rHelper.methods[d](a)});rHelper.methods.INSRT_gaugeGraph("buildings")})},EVNT_buildGraph:function(a){rHelper.graphs=rHelper.graphs||{};switch(a){case "material":var b=rHelper.graphs.material;rHelper.graphs.material.reference.mineCount=rHelper.methods.CALC_totalMineCount();rHelper.graphs.material.reference.mineIncome=rHelper.methods.CALC_totalMineWorth();$.each(rHelper.data.material,function(a,b){var c=
{y:0,color:"",drilldown:{categories:[],data:[],color:""}};rHelper.methods.CALC_returnPriceViaId(a);var d=parseFloat((b.amountOfMines/rHelper.graphs.material.reference.mineCount*100).toFixed(2)),f=parseFloat((rHelper.methods.CALC_materialRateWorth(a)/rHelper.graphs.material.reference.mineIncome*100).toFixed(2)),h=b.name;isNaN(d)?c.y=0:c.y=d;d={name:h,y:c.y,color:c.color};c.color=rHelper.graphs.material.colors[a];c.drilldown.color=rHelper.graphs.material.colors[a];c.drilldown.categories[a]=h;c.drilldown.name=
h;isNaN(f)?c.drilldown.data[a]=0:c.drilldown.data[a]=f;JSON.stringify(rHelper.graphs.material.mineData[a])!==JSON.stringify(d)&&(rHelper.graphs.material.mineData[a]=d);f=c.drilldown.data.length;for(h=0;h<f;h+=1)brightness=.2-h/f/5,rHelper.graphs.material.incomeData[a]={name:c.drilldown.categories[h],y:c.drilldown.data[h],color:Highcharts.Color(c.color).brighten(brightness).get()};JSON.stringify(rHelper.graphs.material.data[a])!==JSON.stringify(c)&&(rHelper.graphs.material.data[a]=c)});rHelper.methods.INSRT_polygonGraph(b.target,
b.titleText,b.seriesNames,b.responsiveId,a)}},EVNT_switchHeadquarter:function(a){$(".hq-thumb-"+a).on("click",function(){var b=parseInt(a)+1;rHelper.data.headquarter.user=rHelper.data.headquarter.user||{};rHelper.data.headquarter.user.paid=rHelper.data.headquarter.user.paid||[0,0,0,0];rHelper.data.headquarter.user.level=rHelper.data.headquarter.user.level||b;rHelper.methods.SET_globalObject("headquarter","user","level",b);rHelper.methods.SET_hqSelectorClass(a);rHelper.methods.INSRT_gaugeGraph("headquarter");
rHelper.methods.INSRT_headquarterContentRequiredAmount(b);rHelper.methods.INSRT_headquarterPaid();for(var c=0;3>=c;c+=1)rHelper.methods.INSRT_headquarterMissing(c);rHelper.methods.INSRT_headquarterRemainingCost(b);rHelper.methods.INSRT_companyWorth()})},EVNT_headquarterInput:function(){$.each($("[id*='hq-content-input-']"),function(a,b){$(b).on("input",function(){var b=parseInt(this.id.replace(/hq-content-input-/,"")),d=parseInt(this.value);isNaN(d)?d=0:5E7<d&&(d=5E7);rHelper.methods.SET_globalObject("headquarter",
"user",["paid",b],d);rHelper.methods.INSRT_headquarterMissing(a);rHelper.methods.INSRT_headquarterRemainingCost(rHelper.data.headquarter.user.level);rHelper.methods.INSRT_gaugeGraph("headquarter");rHelper.methods.INSRT_companyWorth()})})},EVNT_priceHistoryOnChange:function(){$("#pricehistory-selector").on("change",function(a,b){var c=parseInt(this.value),d="api/getPriceHistory.php?id="+c,c=rHelper.methods.CALC_convertId(c),e='<span style="height: 25px; width: 25px;" class='+c.icon+"></span> "+c.name;
rHelper.methods.EVNT_priceHistoryToggler("loading");$.getJSON(d,function(a){var b=a.avg.ki,c=a.avg.player,d=[],g=[],q=[];$.each(a.data,function(a,b){var c=rHelper.methods.CALC_convertDateToIso(rHelper.methods.CALC_toMilliseconds(b.ts));d.push(c);0==b.player&&(b.player=null);g.push(b.player);q.push(b.ki)});rHelper.methods.EVNT_priceHistoryToggler("finished");rHelper.methods.INSRT_priceHistoryGraph(e,b,c,d,g,q)})})},EVNT_priceHistoryToggler:function(a){var b=$("#graph-pricehistory"),c=$("#pricehistory-selector");
switch(a){case "loading":b.html('<svg id="pricehistory-svg" xmlns="http://www.w3.org/2000/svg" style="background:0 0" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><g transform="translate(50 50)"><g transform="matrix(.6 0 0 .6 -19 -19)"><g transform="rotate(242)"><animateTransform attributeName="transform" begin="0s" dur="3s" keyTimes="0;1" repeatCount="indefinite" type="rotate" values="0;360"/><path fill="#9acd32" d="M37.3496988-7h10V7h-10a38 38 0 0 1-1.50391082 5.61267157l8.66025404 5-7 12.12435565-8.66025404-5a38 38 0 0 1-4.10876076 4.10876076l5 8.66025404-12.12435565 7-5-8.66025404A38 38 0 0 1 7 37.34969879v10H-7v-10a38 38 0 0 1-5.61267157-1.50391081l-5 8.66025404-12.12435565-7 5-8.66025404a38 38 0 0 1-4.10876076-4.10876076l-8.66025404 5-7-12.12435565 8.66025404-5A38 38 0 0 1-37.34969879 7h-10V-7h10a38 38 0 0 1 1.50391081-5.61267157l-8.66025404-5 7-12.12435565 8.66025404 5a38 38 0 0 1 4.10876076-4.10876076l-5-8.66025404 12.12435565-7 5 8.66025404A38 38 0 0 1-7-37.34969879v-10H7v10a38 38 0 0 1 5.61267157 1.50391081l5-8.66025404 12.12435565 7-5 8.66025404a38 38 0 0 1 4.10876076 4.10876076l8.66025404-5 7 12.12435565-8.66025404 5A38 38 0 0 1 37.34969879-7M0-30a30 30 0 1 0 0 60 30 30 0 1 0 0-60"/></g></g><g transform="matrix(.6 0 0 .6 19 19)"><g transform="rotate(103)"><animateTransform attributeName="transform" begin="-0.125s" dur="3s" keyTimes="0;1" repeatCount="indefinite" type="rotate" values="360;0"/><path fill="coral" d="M37.3496988-7h10V7h-10a38 38 0 0 1-1.50391082 5.61267157l8.66025404 5-7 12.12435565-8.66025404-5a38 38 0 0 1-4.10876076 4.10876076l5 8.66025404-12.12435565 7-5-8.66025404A38 38 0 0 1 7 37.34969879v10H-7v-10a38 38 0 0 1-5.61267157-1.50391081l-5 8.66025404-12.12435565-7 5-8.66025404a38 38 0 0 1-4.10876076-4.10876076l-8.66025404 5-7-12.12435565 8.66025404-5A38 38 0 0 1-37.34969879 7h-10V-7h10a38 38 0 0 1 1.50391081-5.61267157l-8.66025404-5 7-12.12435565 8.66025404 5a38 38 0 0 1 4.10876076-4.10876076l-5-8.66025404 12.12435565-7 5 8.66025404A38 38 0 0 1-7-37.34969879v-10H7v10a38 38 0 0 1 5.61267157 1.50391081l5-8.66025404 12.12435565 7-5 8.66025404a38 38 0 0 1 4.10876076 4.10876076l8.66025404-5 7 12.12435565-8.66025404 5A38 38 0 0 1 37.34969879-7M0-30a30 30 0 1 0 0 60 30 30 0 1 0 0-60"/></g></g></g></svg>');
c.attr("disabled",!0);break;case "finished":b.empty(),c.attr("disabled",!1)}},EVNT_mapCreation:function(a,b){var c,d,e,g;switch(a){case "personal":c=$("#personalmap");d=rHelper.data.mineMap;e=$("#personalmap-info");g='Your mine map is empty! Please import "Mines - detailed" via API first.';break;case "world":c=$("#worldmap"),d=rHelper.data.worldMap,e=$("#worldmap-info"),g="An error occured. If this problem persists, please report this issue via Discord or mail."}if(0!=d.length){var f=new Date,h=rHelper.methods.SET_newMap(c,
12,"terrain"),h=rHelper.methods.SET_mapOptions(h,16,d.mines[0]);switch(a){case "personal":rHelper.methods.SET_mapHQHandler(h,d.hq[0]);break;case "world":$.each(d.hqs,function(a,b){rHelper.methods.SET_mapHQHandler(h,b)})}$.each(d.mines,function(b,c){rHelper.methods.SET_mapMineHandler(f,c,h,a)})}else e.text(g)},EVNT_attackLogTrigger:function(){$("#heading-defenselog a").on("click",function(a){a.preventDefault();rHelper.methods.API_getAttackLog("defenseSimple")});$("#heading-attacklog-1 a").on("click",
function(a){a.preventDefault();rHelper.methods.API_getAttackLog("attackSimple")});$("#heading-attacklog-2 a").on("click",function(a){a.preventDefault();rHelper.methods.API_getAttackLog("attackDetailed")})},INSRT_attackLogDetailed:function(a){$("#attacklog-tbody-detailed")},INSRT_ADLogSimple:function(a,b){var c=$("#attacklog-tbody-simple");c.empty();var d=function(a){var b="bg-success-25";if(0>=a||null==a)b="bg-warning-25";return b},e="Attacked player (last known level);Last attacked;Total attacks;Win;Loss;Average loot factor;Average amount of units used;Profit".split(";"),
g=[0,2,3],f=$("#collapse-attacklog-simple table")[0];"defenseSimple"==a&&(e[0]="Attacking player (last known level)",f=$("#collapse-defenselog-simple table")[0],c=$("#defenselog-tbody-simple"));$.each(b,function(b,f){for(var h=$(crEl("tr")),k=0;7>=k;k+=1){var m=$(crEl("td")).attr("data-th",e[k]),n;n="";switch(k){case 0:m.text(f.targetName+" ("+f.targetLevel+")");break;case 1:m.text(rHelper.methods.CALC_convertDateToIso(f.lastAttacked));break;case 2:n=(f.sumWin/f.sumAttacks*100).toFixed(2);m.text(f.sumAttacks.toLocaleString("en-US")+
" ("+n+"%)").addClass("text-md-right text-sm-left");break;case 3:"defenseSimple"==a?(n=f.sumAttacks-f.sumWin,m.text(n.toLocaleString("en-US")).addClass("text-md-right text-sm-left")):"attackSimple"==a&&m.text(f.sumWin.toLocaleString("en-US")).addClass("text-md-right text-sm-left");break;case 4:"defenseSimple"==a?m.text(f.sumWin.toLocaleString("en-US")).addClass("text-md-right text-sm-left"):"attackSimple"==a&&(n=f.sumAttacks-f.sumWin,m.text(n.toLocaleString("en-US")).addClass("text-md-right text-sm-left"));
break;case 5:n=(100*f.factor).toFixed(2);m.text(n+"%").addClass("text-md-right text-sm-left");break;case 6:for(var r=0;2>=r;r+=1){var p=$(crEl("span"));p.addClass("resources-unit-"+g[r]);var u=f["unit"+r];null==u&&(u=0);n+=p[0].outerHTML+" "+u.toLocaleString("en-US")+" "}m.html(n);break;case 7:n=f.profit,null==n&&(n=0),r=f.unitLossValue,null!=r&&(n-=r),m.text(n.toLocaleString("en-US")).addClass("text-md-right text-sm-left")}h.addClass(d(f.profit)).append(m)}c.append(h)});sorttable.makeSortable(f)},
INSRT_attackLog:function(a){var b=rHelper.data.attackLog,c;switch(a){case "attackSimple":case "defenseSimple":c="INSRT_ADLogSimple";break;case "attackDetailed":c="INSRT_attackLogDetailed"}rHelper.methods[c](a,b)},INSRT_materialData:function(a,b){$.each(["INSRT_materialRate","INSRT_materialAmountOfMines","INSRT_materialNewMinePrice","INSRT_materialRateWorth","INSRT_materialNewMinePerfectIncome"],function(b,d){rHelper.methods[d](a)});b&&rHelper.methods.CALC_dependantFactories(a,"material");rHelper.methods.INSRT_flowRate(a,
"material")},INSRT_factoryDiamondData:function(a,b){$.each("INSRT_factoryLevel INSRT_factoryOutput INSRT_factoryUpgradeCost INSRT_factoryDependencies INSRT_factoryWorkload INSRT_factoryTurnover INSRT_factoryTurnoverPerUpgrade INSRT_factoryROI INSRT_diamondFactoryOutput INSRT_diamondFactoryOutputWarehouse INSRT_diamondDependencies INSRT_diamondEfficiency INSRT_diamondProfit".split(" "),function(b,d){rHelper.methods[d](a)});rHelper.methods.INSRT_flowRate(a,b)},INSRT_recycling:function(a){$.each(["INSRT_recyclingRequirement",
"INSRT_recyclingProducts","INSRT_recyclingOutputWorth","INSRT_recyclingInputWorth"],function(b,c){rHelper.methods[c](a)});rHelper.methods.INSRT_unitsRecyclingProfit("recycling",a)},INSRT_warehouseData:function(a,b){$.each("INSRT_warehouseFillAmount INSRT_warehouseLevel INSRT_warehouseFillStatus INSRT_warehouseCapacity INSRT_warehouseWorth EVNT_warehouseInput".split(" "),function(c,d){rHelper.methods[d](a,b)});"products"!=b&&"material"!=b||rHelper.methods.INSRT_warehouseRemainingTimeToFull(a,b)},INSRT_priceHistoryGraph:function(a,
b,c,d,e,g){Highcharts.chart("graph-pricehistory",{chart:{type:"spline",zoomType:"x"},title:{useHTML:!0,text:"Price history for "+a},subtitle:{text:"last 28 days"},xAxis:{categories:d},yAxis:{title:{text:"Price"},labels:{formatter:function(){return this.value.toLocaleString("en-US")}},plotLines:[{color:"red",value:b,width:"1",zIndex:5,label:{text:"average KI price of "+b.toLocaleString("en-US"),align:"right",style:{color:"darkgreen"}}},{color:"darkgreen",value:c,width:"1",zIndex:5,label:{text:"average player price of "+
c.toLocaleString("en-US"),align:"right",style:{color:"orange"}}}]},legend:{enabled:!1},tooltip:{crosshairs:!0,shared:!0},plotOptions:{spline:{marker:{radius:4,lineColor:"#666666",lineWidth:1}}},series:[{name:"KI",marker:{symbol:"square"},color:"darkgreen",data:g},{name:"Player",marker:{symbol:"diamond"},color:"orange",data:e}]})},INSRT_polygonGraph:function(a,b,c,d,e){e=rHelper.graphs[e];Highcharts.chart(a,{chart:{type:"pie",backgroundColor:"transparent"},title:{text:b,style:{color:"#dedede"}},plotOptions:{pie:{shadow:!1,
center:["50%","50%"]}},tooltip:{valueSuffix:"%"},series:[{name:c[0],data:e.mineData,colors:e.colors,size:"60%",dataLabels:{formatter:function(){return 5<this.y?this.point.name:null},color:"#dedede",distance:-30}},{name:c[1],data:e.incomeData,colors:e.colors,size:"80%",innerSize:"60%",dataLabels:{formatter:function(){return 1<this.y?"<b>"+this.point.name+":</b> "+this.y+"%":null},style:{color:"white",textOutline:"none"}},id:d}],responsive:{rules:[{condition:{maxWidth:400},chartOptions:{series:[{id:d,
dataLabels:{enabled:!1}}]}}]}})},INSRT_gaugeGraph:function(a){"buildings"==a?Highcharts.chart("graph-buildings",Highcharts.merge(rHelper.graphs.gaugeOptions,{yAxis:{min:0,max:rHelper.methods.CALC_perfectWorth("buildings"),title:{text:"total building worth"}},series:[{name:"total building worth",data:[rHelper.methods.CALC_totalBuildingErectionSum()]}]})):"headquarter"==a&&Highcharts.chart("graph-headquarter",Highcharts.merge(rHelper.graphs.gaugeOptions,{yAxis:{min:0,max:rHelper.methods.CALC_perfectWorth("headquarter"),
title:{text:"total headquarter worth"}},series:[{name:"total headquarter worth",data:[rHelper.methods.CALC_totalHeadquarterErectionSum()]}]}))},INSRT_totalMineWorth:function(a){$("#material-total-worth").text(a.toLocaleString("en-US"))},INSRT_totalMineCount:function(a){$("#material-total-mine-count").text(a.toLocaleString("en-US"))},INSRT_materialRate:function(a){$("#material-rate-"+a).val(rHelper.data.material[a].perHour)},INSRT_materialAmountOfMines:function(a){$("#material-amount-of-mines-"+a).val(rHelper.data.material[a].amountOfMines)},
INSRT_userSettings:function(){var a=rHelper.data.userInformation;$("#security-token").text(a.securityToken);""!=a.realKey&&"undefined"!=typeof a.realKey&&($("#api-key").val(a.realKey),rHelper.methods.INSRT_API_remainingCredits(a.remainingCredits));""!=a.name&&$("#api-player-anonymity")[0].parentNode.remove();$.each(rHelper.data.settings,function(a,c){var b=0;switch(c.setting){case "lang":switch(c.value){case "de":b=0;break;case "en":b=1;break;case "fr":b=2;break;case "in":b=3;break;case "jp":b=4;
break;case "ru":b=5}$("#settings-language").val(b);break;case "customTU":for(b=0;3>=b;b+=1)$("#settings-custom-tu-"+(b+1)).val(c.value[b]);break;case "idealCondition":1===c.value&&$("#settings-ideal-conditions").prop("checked",!0);break;case "transportCostInclusion":1===c.value&&$("#settings-toggle-transport-cost-inclusion").prop("checked",!0);break;case "mapVisibleHQ":1===c.value&&$("#settings-hq-visibility").val(1);break;case "priceAge":$("#settings-price-age").val(c.value)}})},INSRT_materialNewMinePrice:function(a){$("#material-new-price-"+
a).text(rHelper.methods.CALC_materialNewMinePrice(rHelper.methods.CALC_totalMineCount(),a).toLocaleString("en-US"))},INSRT_materialRateWorth:function(a){$("#material-worth-"+a).text(rHelper.methods.CALC_materialRateWorth(a).toLocaleString("en-US"))},INSRT_materialMineAmortisation:function(){var a=rHelper.methods.CALC_materialMineROI("100"),b=rHelper.methods.CALC_materialMineROI("505"),c=rHelper.methods.CALC_materialMineROI("505hq");$.each(a,function(a,b){$("#material-roi-100-"+a).text(b.toFixed(2).toLocaleString("en-US"))});
$.each(b,function(a,b){$("#material-roi-500-"+a).text(b.toFixed(2).toLocaleString("en-US"))});$.each(c,function(a,b){$("#material-roi-x-"+a).text(b.toFixed(2).toLocaleString("en-US"))});rHelper.methods.INSRT_materialHighlightColumns(a,"#material-roi-100-","text-success","text-danger");rHelper.methods.INSRT_materialHighlightColumns(b,"#material-roi-500-","text-success","text-danger");rHelper.methods.INSRT_materialHighlightColumns(c,"#material-roi-x-","text-success","text-danger")},INSRT_materialNewMinePerfectIncome:function(a){$("#material-perfect-income-"+
a).text(rHelper.methods.CALC_materialMinePerfectIncome(a).toLocaleString("en-US"))},INSRT_materialHighlightMinePerfectIncome:function(){var a=[];$.each(rHelper.data.material,function(b){a.push(rHelper.methods.CALC_materialMinePerfectIncome(b))});rHelper.methods.INSRT_materialHighlightColumns(a,"#material-perfect-income-","text-danger","text-success")},INSRT_materialHighlightColumns:function(a,b,c,d){var e=0,g,f;$.each(["min","max"],function(h,k){switch(k){case "min":e=a.min();g=c;f=d;break;case "max":e=
a.max(),g=d,f=c}$(b+a.indexOf(e)).removeClass(f).addClass(g)})},INSRT_factoryLevel:function(a){var b=rHelper.data.products[a].factoryLevel;$("#factories-level-"+a).val(b);$("#diamond-level-"+a).text(b)},INSRT_factoryOutput:function(a){$("#factories-product-"+a).text(rHelper.methods.CALC_factoryOutput(a).toLocaleString("en-US"))},INSRT_factoryUpgradeCost:function(a){var b=$("#factories-upgrade-cost-"+a);a=rHelper.methods.CALC_factoryUpgradeCost(a);b.text(a.sum.toLocaleString("en-US"));b.attr("title",
a.title);applyTippyOnNewElement(b)},INSRT_totalFactoryUpgrades:function(){$("#factories-total-upgrades").text(rHelper.methods.CALC_totalFactoryUpgrades().toLocaleString("en-US"))},INSRT_factoryDependencies:function(a){var b=rHelper.data.products[a].dependencies,c="";if($.isArray(b))$.each(b,function(b,d){var e=rHelper.methods.CALC_convertId(d),g=rHelper.methods.CALC_returnPriceViaId(d).toLocaleString("en-US"),f=rHelper.methods.CALC_factoryDependencyRequiredAmount(a,b),h=rHelper.methods.CALC_factoryDependencyExistingAmount(e,
b),h=rHelper.methods.CALC_factoryComparatorRequiredVsExistingAmount(f,h),k=$(crEl("span")),l=$(crEl("span")),q=$(crEl("span"));l.addClass(e.icon).attr("title",g.toLocaleString("en-US"));q.addClass(h).text(f.toLocaleString("en-US"));k.append(l[0].outerHTML+" "+q[0].outerHTML+" ");c+=k[0].outerHTML});else{var d=rHelper.methods.CALC_convertId(b),b=rHelper.methods.CALC_returnPriceViaId(b).toLocaleString("en-US"),e=rHelper.methods.CALC_factoryDependencyRequiredAmount(a,0),g=rHelper.methods.CALC_factoryDependencyExistingAmount(d,
0),g=rHelper.methods.CALC_factoryComparatorRequiredVsExistingAmount(e,g),f=$(crEl("span")),h=$(crEl("span")),k=$(crEl("span"));h.addClass(d.icon).attr("title",b.toLocaleString("en-US"));k.addClass(g).text(e.toLocaleString("en-US"));f.append(h[0].outerHTML+" "+k[0].outerHTML+" ");c+=f[0].outerHTML}$("#factories-dependencies-"+a).html(c)},INSRT_factoryAmortisation:function(a){var b="#factories-roi-"+a;a=rHelper.methods.CALC_factoryAmortisation(a);a=0>a||Infinity==a?"\u221e":a.toFixed(2);$(b).text(a)},
INSRT_factoryWorkload:function(a){var b=$("#factories-workload-"+a),c=rHelper.data.products[a].dependencies;rHelper.data.products[a].dependencyWorkload=[];$.isArray(c)?$.each(c,function(b){b=rHelper.methods.CALC_factoryDepedencyWorkload(a,b);rHelper.data.products[a].dependencyWorkload.push(b)}):(c=rHelper.methods.CALC_factoryDepedencyWorkload(a,0),rHelper.data.products[a].dependencyWorkload.push(c));var c=rHelper.methods.CALC_factoryWorkloadMinNonSanitized(a),d,e;1<=c?(d="text-danger",e="text-success"):
(d="text-success",e="text-danger");b.removeClass(d).addClass(e);b.text((100*c).toFixed(2)+" %")},INSRT_factoryTurnover:function(a){var b=$("#factories-turnover-"+a),c=rHelper.methods.CALC_factoryTurnover(a),d,e;0>=c?(d="text-success",e="text-danger"):(d="text-danger",e="text-success");rHelper.data.products[a].turnover=c;b.removeClass(d).addClass(e);b.text(c.toLocaleString("en-US"))},INSRT_factoryHighlightColumns:function(){var a;$.each(["#factories-upgrade-cost-","#factories-increase-per-upgrade-",
"#factories-roi-","#diamond-profit-"],function(b,c){switch(b){case 0:a="upgradeCost";break;case 1:a="turnoverIncrease";break;case 2:a="roi";break;case 3:a=[]}var d=[],e=[];$.each(rHelper.data.products,function(b,f){$(c+b).removeClass("text-success text-danger");var g;g="object"==typeof a?f.diamond.profit:f[a];0<rHelper.data.products[b].turnover&&-Infinity!=g&&Infinity!=g&&0<g&&(d.push(g),e.push(b))});var g=e[d.indexOf(d.min())],f=e[d.indexOf(d.max())];switch(b){case 0:case 2:$(c+g).addClass("text-success");
g!=f&&$(c+f).addClass("text-danger");break;case 1:case 3:$(c+f).addClass("text-success"),g!=f&&$(c+g).addClass("text-danger")}})},INSRT_factoryROI:function(a){var b=$("#factories-roi-"+a),c=rHelper.methods.CALC_factoryROI(a);rHelper.data.products[a].roi=c;c=0>c||Infinity===c?"\u221e":c.toFixed(2);b.text(c.toLocaleString("en-US"))},INSRT_factoryTurnoverPerUpgrade:function(a){var b=$("#factories-increase-per-upgrade-"+a),c=rHelper.methods.CALC_factoryTurnoverPerUpgrade(a);rHelper.data.products[a].turnoverIncrease=
c;b.text(c.toLocaleString("en-US"))},INSRT_API_remainingCredits:function(a){$("#api-credits").text(a.toLocaleString("en-US")+" Credits left")},INSRT_diamondFactoryOutput:function(a){$("#diamond-product-"+a).text(rHelper.methods.CALC_diamondFactoryOutput(a).toLocaleString("en-US"))},INSRT_diamondFactoryOutputWarehouse:function(a){var b=rHelper.methods.CALC_diamondFactoryOutput(a),b=rHelper.methods.CALC_nextGreaterWarehouseLevel(b);$("#diamond-product-warehouse-"+a).text(b.toLocaleString("en-US"))},
INSRT_diamondDependenciesHelper:function(a,b,c,d,e){var g=rHelper.methods.CALC_nextGreaterWarehouseLevel(c);rHelper.data.products[d].diamond.dependenciesWorth+=b*c;a=$(crEl("span")).addClass(a.icon).attr("title",b.toLocaleString("en-US"));c=$(crEl("span")).text(c.toLocaleString("en-US"));g=$(crEl("span")).text(g);e=$(crEl("kbd")).append(e[0].outerHTML+" "+g[0].outerHTML);return $(crEl("span")).append(a[0].outerHTML+" "+c[0].outerHTML+" "+e[0].outerHTML+" ")[0].outerHTML},INSRT_diamondDependencies:function(a){var b=
rHelper.data.products[a].dependencies,c="",d=$(crEl("span")).addClass("nav-icon-warehouses");if($.isArray(b))$.each(b,function(b,e){var g=rHelper.methods.CALC_convertId(e),f=rHelper.methods.CALC_returnPriceViaId(e),h=120*rHelper.methods.CALC_factoryDependencyRequiredAmount(a,b);c+=rHelper.methods.INSRT_diamondDependenciesHelper(g,f,h,a,d)});else var e=rHelper.methods.CALC_convertId(b),b=rHelper.methods.CALC_returnPriceViaId(b),g=120*rHelper.methods.CALC_factoryDependencyRequiredAmount(a,0),c=c+rHelper.methods.INSRT_diamondDependenciesHelper(e,
b,g,a,d);$("#diamond-dependencies-"+a).html(c)},INSRT_diamondEfficiency:function(a){$("#diamond-efficiency-"+a).text((100*rHelper.methods.CALC_diamondEfficiency(a)).toFixed(2).toLocaleString("en-US")+"%")},INSRT_diamondProfit:function(a){$("#diamond-profit-"+a).text(rHelper.methods.CALC_diamondProfit(a).toLocaleString("en-US"))},INSRT_diamondFactoryLevel:function(a){$("#diamond-level-"+a).text(rHelper.data.products[a].factoryLevel)},INSRT_diamondTop10Profit:function(){var a=rHelper.methods.CALC_diamondTop10Profit().toLocaleString("en-US");
$("#diamond-top-10").text(a)},INSRT_diamondTotalProfit:function(){var a=rHelper.methods.CALC_diamondTotalProfit().toLocaleString("en-US");$("#diamond-total").text(a)},INSRT_flowRate:function(a,b){var c=$("#flow-"+b+"-rate-"+a),d=rHelper.methods.CALC_flowRate(a,b);"product"==b&&0>rHelper.data.products[a].turnover&&(d=0);c.text(d.toLocaleString("en-US"))},INSRT_flowDistributionGlobal:function(){var a=0,b=0,c="yellowgreen",d="yellowgreen";$.each(rHelper.data.material,function(b){a+=rHelper.methods.INSRT_flowDistributionSingle(b,
"material")});var e=rHelper.methods.GET_calculationOrder();$.each(e,function(a,c){b+=rHelper.methods.INSRT_flowDistributionSingle(c,"product")});0>a&&(c="coral");0>b&&(d="coral");rHelper.data.material.totalIncomePerHour=a;rHelper.data.products.totalIncomePerHour=b;$("#flow-material-total").text(a.toLocaleString("en-US")).css("color",c);$("#flow-products-total").text(b.toLocaleString("en-US")).css("color",d);$("#effective-hourly-income").text((a+b).toLocaleString("en-US"))},INSRT_flowSurplus:function(a,
b,c){var d=$("#flow-"+b+"-surplus-"+a),e="#dedede";0>=c&&(e="coral");d.css("color",e);d.html('<span class="resources-'+b+"-"+a+'"></span> '+c.toLocaleString("en-US"))},INSRT_flowDistributionSingle:function(a,b){$("#flow-"+b+"-distribution-"+a);var c=$("#flow-"+b+"-worth-"+a),d=0,e=rHelper.methods.CALC_flowDistribution(a,b),g="yellowgreen",f=0;switch(b){case "material":d=rHelper.methods.CALC_returnPriceViaId(a);break;case "product":d=rHelper.methods.CALC_returnPriceViaId(a+14)}"product"==b&&(0>rHelper.data.products[a].turnover?
(e*=-1,""==rHelper.data.products[a].dependantFactories&&(e=0)):f=rHelper.methods.CALC_factoryCashCostPerHour(a));d*=e;0>e&&(d*=rHelper.data.buildings[9].transportCost,g="coral");d=Math.round(d-f);switch(b){case "material":rHelper.data.material[a].effectiveTurnover=d;break;case "product":rHelper.data.products[a].effectiveTurnover=d}c.css("color",g).text(d.toLocaleString("en-US"));rHelper.methods.INSRT_flowSurplus(a,b,e);return d},INSRT_warehouseFillAmount:function(a,b){$("#warehouse-"+b+"-stock-current-"+
a).val(rHelper.data[b][a].warehouse.fillAmount)},INSRT_warehouseLevel:function(a,b){var c=rHelper.data[b][a].warehouse.level;$("#warehouse-"+b+"-level-"+a).val(c);$("#warehouse-"+b+"-stock-current-"+a).attr("max",rHelper.methods.CALC_warehouseContingent(c))},INSRT_warehouseFillStatus:function(a,b){var c=$("#warehouse-"+b+"-fill-percent-"+a),d=(100*rHelper.data[b][a].warehouse.fillStatus).toFixed(2);75>d?color="rgb(70, 252, 6)":75<=d&&90>d?color="rgb(255, 252, 38)":90<=d&&95>d?color="rgb(255, 155, 38)":
95<=d&&(color="rgb(255, 38, 41)");c.text(d).css("color",color)},INSRT_warehouseCapacity:function(a,b){$("#warehouse-"+b+"-stock-cap-"+a).text(rHelper.data[b][a].warehouse.contingent.toLocaleString("en-US"))},INSRT_warehouseWorth:function(a,b){var c=rHelper.methods.CALC_warehouseWorth(a,b)*rHelper.data[b][a].warehouse.fillAmount;$("#warehouse-"+b+"-worth-"+a).text(c.toLocaleString("en-US"))},INSRT_warehouseTotalWorth:function(){var a=rHelper.methods.CALC_warehouseTotalWorth();$("#warehouse-total-worth").text(a.toLocaleString("en-US"))},
INSRT_warehouseTotalLevel:function(){var a=rHelper.methods.CALC_warehouseTotalLevel();$("#warehouse-total-level").text(a.toLocaleString("en-US"))},INSRT_warehouseRemainingTimeToFull:function(a,b){var c=rHelper.methods.CALC_warehouseRemainingTimeToFull(a,b);$("#warehouse-"+b+"-remaining-"+a).text(c)},INSRT_warehouseUpgradeCost:function(a,b,c){var d=$("#warehouse-"+b+"-upgrade-cost-"+a);a=rHelper.methods.CALC_warehouseUpgradeCostOnInput(a,b,c);d.text(a.toLocaleString("en-US"))},INSRT_buildingName:function(a){$("#buildings-name-"+
a).text(rHelper.data.buildings[a].name)},INSRT_buildingData:function(a){var b=rHelper.data.buildings[a],c=b.level,d=$("#buildings-level-"+a);parseInt(d.val())!=c&&$(d[0][c]).attr("selected","true");var e=d=0;if(10!=c){rHelper.methods.SET_buildingTableVisibility(a,"show");for(var g=0;3>=g;g+=1)if(0===g){var f=$("#buildings-cash-"+a),h=b.materialAmount0[c];"undefined"==typeof h&&(h=0);d+=h;f.text(h.toLocaleString("en-US"))}else f="materialAmount"+g,h=rHelper.methods.CALC_convertId(b.material[g]),$("#buildings-mat-"+
g+"-"+a).addClass(h.icon),f=b[f][c],"number"==typeof f&&($("#buildings-amount-"+g+"-"+a).text(f.toLocaleString("en-US")),f*=rHelper.methods.CALC_returnPriceViaId(b.material[g]),h=(rHelper.data.buildings[9].transportCost-1)*f,d+=f,e+=h,$("#buildings-worth-"+g+"-"+a).text(f.toLocaleString("en-US")),$("#buildings-transportation-"+g+"-"+a).text(h.toLocaleString("en-US")))}else rHelper.methods.SET_buildingTableVisibility(a,"hide");$("#buildings-sum-"+a).text(d.toLocaleString("en-US"));$("#buildings-transportation-sum-"+
a).text(Math.round(e).toLocaleString("en-US"))},INSRT_buildingToLevel10:function(a){var b=rHelper.methods.CALC_buildingToLevel10(a);$("#buildings-cap-"+a).text(b.level10Cost.toLocaleString("en-US"));$("#buildings-transportation-cap-"+a).text(b.level10Transportation.toLocaleString("en-US"))},INSRT_techUpgradeRows:function(a){var b=$("#techupgrades-combinations-tbl tbody");0<b[0].childNodes.length&&b.empty();for(var c=[],d=46;49>=d;d+=1)c.push(rHelper.methods.CALC_returnPriceViaId(d,0));$.each(rHelper.tu,
function(d,g){if("undefined"!=typeof a||0==g.tu4){for(var e=$(crEl("tr")),h=0;6>=h;h+=1){var k=$(crEl("td"));k.addClass("text-md-right text-sm-left");var l=[g.tu1,g.tu2,g.tu3,g.tu4];switch(h){case 0:case 1:case 2:case 3:k.text(l[h]).attr("data-th","Tech-Upgrade "+h);break;case 4:k.text(g.factor).attr("data-th","Boost");break;case 5:for(var q=0,m=0;m<l.length;m+=1)q+=l[m]*c[m];k.text(q.toLocaleString("en-US")).attr("data-th","Price");break;case 6:k.text(1*l[0]+2*l[1]+3*l[2]+5*l[3]).attr("data-th",
"Pimp my mine count")}e.append(k[0])}b.append(e[0])}})},INSRT_techUpgradeCalculator:function(a,b){toggleTechUpgradeInfo("start");var c=$("#techupgrades-calc-tbl");"none"==c.css("display")&&c.css("display","table");var d=$("#techupgrades-calc-tbl tbody");d.empty();var e="api/getTechCombination.php?factor="+a;"string"==typeof b&&(e+="&tu4=allowed");$.getJSON(e,function(a){for(var b=[],e=46;49>=e;e+=1)b.push(rHelper.methods.CALC_returnPriceViaId(e,0));$.each(a,function(a,c){for(var e=$(crEl("tr")),g=
0;6>=g;g+=1){var f=$(crEl("td"));f.addClass("text-md-right text-sm-left");f.attr("data-th","missing Tech-Upgrade "+(g+1));var h=[c.tu1,c.tu2,c.tu3,c.tu4];switch(g){case 0:case 1:case 2:case 3:f.text(h[g]);break;case 4:f.text(c.factor).attr("data-th","resulting Boost");break;case 5:for(var k=0,l=0;l<h.length;l+=1)k+=h[l]*b[l];f.text(k.toLocaleString("en-US")).attr("data-th","Price");break;case 6:f.text(1*h[0]+2*h[1]+3*h[2]+5*h[3]).attr("data-th","remaining Pimp my mine count")}e.append(f)}d.append(e)});
sorttable.makeSortable(c[0]);sorttable.innerSortFunction.apply($("#techupgrades-calc-tbl th")[5],[]);sorttable.innerSortFunction.apply($("#techupgrades-calc-tbl th")[5],[]);toggleTechUpgradeInfo("end")}).fail(function(){var a=$(crEl("tr")),b=$(crEl("td"));b.addClass("text-warning text-center").attr("data-th","Attention").attr("colspan",7).text("No entries found or invalid value. Try to lower the value a bit \u2013 up to 5 decimals are allowed (e.g. 3.00005).");a.append(b);d.append(a);toggleTechUpgradeInfo("end")})},
INSRT_recyclingRequirement:function(a){$("#recycling-requirement-"+a).text(rHelper.methods.CALC_recyclingRequirement(a).toLocaleString("en-US"))},INSRT_recyclingProducts:function(a){var b=rHelper.methods.CALC_recyclingProducts(a,rHelper.data.buildings[5].level);$("#recycling-products-"+a).html(b)},INSRT_recyclingOutputWorth:function(a){var b=rHelper.data.buildings[5].level;$("#recycling-output-"+a).text(rHelper.methods.CALC_recyclingOutputWorth(a,b).toLocaleString("en-US"))},INSRT_recyclingInputWorth:function(a){$("#recycling-input-"+
a).text(rHelper.methods.CALC_recyclingInputWorth(a).toLocaleString("en-US"))},INSRT_unitsRecyclingProfit:function(a,b){var c=$("#"+a+"-profit-"+b),d=0,e;"recycling"==a?d=rHelper.methods.CALC_recyclingProfit(b):"units"==a&&(d=rHelper.methods.CALC_unitsProfit(b));e=0<d?"#9acd3225":"#ff7f5025";$(c[0].parentNode).css("background-color",e);d=d.toFixed(2).toLocaleString("en-US")+"%";c.text(d)},INSRT_unitsCraftingPrice:function(a){$("#units-crafting-"+a).text(rHelper.methods.CALC_unitsCraftingPrice(a).toLocaleString("en-US"))},
INSRT_unitsPricePerStrength:function(a){$("#units-pps-"+a).text(rHelper.methods.CALC_unitsPricePerStrength(a).toLocaleString("en-US"))},INSRT_unitsMarketPrice:function(a){var b=rHelper.methods.CALC_returnPriceViaId(a+52);rHelper.data.units[a].profit.marketPrice=b;$("#units-market-"+a).text(b.toLocaleString("en-US"))},INSRT_companyWorth:function(){var a=rHelper.methods.CALC_companyWorth();$("#company-worth").text(a.toLocaleString("en-US"))},INSRT_headquarterOvwTransportation:function(a){if($.isArray(rHelper.data.headquarter[a].material)){var b=
rHelper.methods.CALC_headquarterLevelCost(a),b=Math.round(b*(rHelper.data.buildings[9].transportCost-1));$("#hq-ovw-transportation-"+a).text(b.toLocaleString("en-US"))}},INSRT_headquarterOvwCost:function(a){var b=rHelper.methods.CALC_headquarterLevelCost(a);$("#hq-ovw-sum-"+a).text(b.toLocaleString("en-US"))},INSRT_headquarterOvwRadius:function(a){var b=rHelper.data.headquarter[a];$("#hq-ovw-radius-"+a).text(b.radius+"m | "+rHelper.methods.CALC_convertMeterToYards(b.radius)+" yards")},INSRT_headquarterOvwBoost:function(a){var b=
rHelper.data.headquarter[a];$("#hq-ovw-boost-"+a).text(b.boost)},INSRT_headquarterOvwString:function(a){var b=rHelper.data.headquarter[a];$.isArray(b.material)&&(b=rHelper.methods.CALC_headquarterOvwMaterial(a)+" x "+b.amount.toLocaleString("en-US"),$("#hq-ovw-mat-"+a).html(b))},INSRT_headquarterContentRequiredAmount:function(a){var b=$("#hq-content");if(10!=a){b.css("display","block");a=rHelper.data.headquarter[a];var c=a.amount;$.each(a.material,function(a,b){var d=rHelper.methods.CALC_headquarterContentIcon(b),
e=rHelper.methods.CALC_headquarterContentRequiredAmount(c);$("#hq-content-icon-"+a).html(d);$("#hq-content-requirement-"+a).html(e)})}else b.css("display","none")},INSRT_headquarterPaid:function(){$.each(rHelper.data.headquarter.user.paid,function(a,b){$("#hq-content-paid-"+a).val(b)})},INSRT_headquarterMissing:function(a){var b=rHelper.data.headquarter.user.level;10!=b&&(b=rHelper.data.headquarter[b].amount-rHelper.data.headquarter.user.paid[a],0>b&&(b=0),$("#hq-content-missing-"+a).text(b.toLocaleString("en-US")))},
INSRT_headquarterRemainingCost:function(a){if(10!=a){var b=0,c=0;$.each(rHelper.data.headquarter[a].material,function(d,e){var g=rHelper.methods.CALC_headquarterRemainingCost(d,e,a);b+=g;var f=Math.round(g*(rHelper.data.buildings[9].transportCost-1));c+=f;$("#hq-content-cost-"+d).text(g.toLocaleString("en-US"));$("#hq-content-transportation-"+d).text(f.toLocaleString("en-US"))});rHelper.methods.INSRT_headquarterTotalCost(b);rHelper.methods.INSRT_headquarterTotalTransportation(c)}},INSRT_headquarterTotalCost:function(a){$("#hq-content-cost-sum").text(a.toLocaleString("en-US"))},
INSRT_headquarterTotalTransportation:function(a){$("#hq-content-transportation-sum").text(a.toLocaleString("en-US"))},INSRT_priceHistoryName:function(a,b){$("#pricehistory-"+a+"-"+b).text(rHelper.data[a][b].name)},INSRT_qualityComparator:function(a,b){a&&null!=a||(a=0);b=b?b/100:1;var c=rHelper.methods.CALC_returnPriceViaId(a)*rHelper.data.material[a].maxRate*b;$("#qualitycomparator-income").text(c.toLocaleString("en-US"));$.each(rHelper.data.material,function(b,e){var d=$("#qualitycomparator-"+b),
f=$(d[0].parentNode.parentNode),h=rHelper.methods.CALC_returnPriceViaId(b),k=e.maxRate,h=c/h;d.css("opacity");b==a||h>k?f.css("opacity",.1):(f.css("opacity",1),f=(h/k*100).toFixed(2)+"%",d.text(f))})},INSRT_missions:function(){var a=rHelper.data.missions;if(0!=a.length){var b=Math.round(Date.now()/1E3),c=function(a,b){var c=0,d=0,e=0;if(-1==[9,12,17,21,22,25,30,31,32,35,37,38,41,42,43,44,50,55].indexOf(a))switch(a){case 10:e+=rHelper.data.units[5].profit.craftingPrice*b.goal;break;case 11:case 26:case 28:case 31:case 39:26==
a?c=29:28==a?c=21:31==a?c=20:39==a&&(c=25);d=rHelper.methods.CALC_returnPriceViaId(c)*b.goal;e+=d*rHelper.data.buildings[9].transportCost-d;break;case 14:e+=rHelper.methods.CALC_currentScanCost()*b.goal;break;case 33:e+=function(){var a=Infinity;$.each(rHelper.data.units,function(b,c){if(1==b||4==b||5==b){var d=c.profit.craftingPrice,e=c.profit.marketPrice*rHelper.data.buildings[9].transportCost,d=e>d?d:e;d<a&&(a=d)}});return a}()*b.goal;break;case 45:e+=b.goal/5*100}return e},d=function(a){var b=
"coral";33<a&&66>a?b="orange":66<=a&&(b="yellowgreen");return b},e=function(a,b){var c=b-a;return 60>c?c+"s":60<=c&&3600>c?(c/60).toFixed(2)+"m":3600<=c&&86400>c?(c/3600).toFixed(2)+"h":(c/86400).toFixed(2)+"d"};$.each(a,function(a,f){var g=parseInt(a),k,l=f.rewardId;k=0;-1!=l?($("#mission-reward-"+a).addClass(rHelper.methods.CALC_convertId(l).icon),l=rHelper.methods.CALC_returnPriceViaId(l),k+=f.rewardAmount*l):($("#mission-reward-"+a).text("Cash"),k+=f.rewardAmount);l=c(g,f);k-=l;50!=g&&55!=g&&
31!=g&&$("#mission-profit-"+a).text(k.toLocaleString("en-US")).css("color",void 0);$("#mission-duration-"+a).text(f.duration/24);$("#mission-goal-"+a).text(f.goal.toLocaleString("en-US"));$("#mission-interval-"+a).text(f.intervalDays);$("#mission-penalty-"+a).text(f.penalty.toLocaleString("en-US"));$("#mission-reward-amount-"+a).text(f.rewardAmount.toLocaleString("en-US"));f.cooldown>b?(g=e(b,f.cooldown),$("#mission-progress-"+a).attr("colspan",3).html('Mission on cooldown for <span style="color: orange;">'+
g+"</span>").css("text-align","center"),$("#mission-start-"+a).remove(),$("#mission-end-"+a).remove(),$("#mission-"+a).addClass("faded-mission")):$("#mission-"+a).addClass("yellowgreen-10");1==f.status?(g=f.progress/f.goal*100,$("#mission-progress-bar-"+a).css({width:g+"%","background-color":d(g)}),$("#mission-start-"+a).text(rHelper.methods.CALC_convertDateToIso(rHelper.methods.CALC_toMilliseconds(f.startTimestamp))),$("#mission-end-"+a).text(e(b,f.endTimestamp))):$("#mission-progress-wrap-"+a).css("display",
"none")})}},CALC_convertDateToIso:function(a){var b=6E4*(new Date(a)).getTimezoneOffset();a=(new Date(a-b)).toISOString().slice(0,-1).match(/(\d{4}\-\d{2}\-\d{2})T(\d{2}:\d{2}:\d{2})/);return a[1]+" "+a[2]},CALC_currentScanCost:function(){var a=rHelper.data.buildings[0].level,b=rHelper.methods.CALC_totalMineCount();return 5E3*Math.round(1E4*Math.pow(2.4,a)*(1+b/1E3)/5E3)},CALC_toMilliseconds:function(a){return 1E3*a},CALC_mineEstRevenue:function(a,b,c){return Math.round(a.fullRate*rHelper.methods.CALC_returnPriceViaId(b,
8)*c*24*a.HQBoost)},CALC_createMapContentString:function(a,b,c,d,e){var g=100*e.quality;return'<div>\n\t\t\t\t<h1 class="firstHeading">'+a.name+"</h1>\n\t\t\t\t<div>\n\t\t\t\t<p><strong>Built:</strong> "+b+"</p>\n\t\t\t\t<p><strong>Age (days)</strong>: "+c.toFixed(2)+"</p>\n\t\t\t\t<p><strong>Estimated revenue (condition always 100%):</strong> "+d.toLocaleString("en-US")+'</p>\n\t\t\t\t<table class="table table-break-medium mb-3 text-center">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t<th>Raw rate</th><th>Full rate</th><th>Tech factor</th><th>Quality</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t<td>'+
e.rawRate.toLocaleString("en-US")+"</td><td>"+e.fullRate.toLocaleString("en-US")+"</td><td>"+e.techFactor.toLocaleString("en-US")+"</td><td>"+g.toFixed(2)+"% =>"+(g*e.techFactor).toFixed(2)+"%\n\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t</div>"},CALC_headquarterRemainingCost:function(a,b,c){b=rHelper.methods.CALC_returnPriceViaId(b);a=rHelper.data.headquarter[c].amount-rHelper.data.headquarter.user.paid[a];0>a&&(a=0);return b*a},CALC_headquarterContentIcon:function(a){var b=
$(crEl("span"));b.addClass(rHelper.methods.CALC_convertId(a).icon);return b[0].outerHTML},CALC_headquarterContentRequiredAmount:function(a){return $(crEl("span")).html(a.toLocaleString("en-US"))[0].outerHTML},CALC_convertMeterToYards:function(a){return Math.round(1.09361*a)},CALC_headquarterLevelCost:function(a){var b=0,c=rHelper.data.headquarter[a];$.isArray(c.material)&&$.each(c.material,function(a,e){b+=c.amount*rHelper.methods.CALC_returnPriceViaId(e)});return b},CALC_headquarterOvwMaterial:function(a){var b=
rHelper.data.headquarter[a],c="";$.isArray(b.material)&&(rHelper.methods.CALC_headquarterLevelCost(a),$.each(b.material,function(a,b){var d;d=13>=b?rHelper.data.material[b].icon:14<=b&&35>=b?rHelper.data.products[b-14].icon:36<=b&&51>=b?rHelper.data.loot[b-36].icon:rHelper.data.units[b-52].icon;d=$(crEl("span")).addClass(d);c+=d[0].outerHTML+" "}));return c},CALC_totalBuildingErectionSum:function(a){var b=0;$.each(rHelper.data.buildings,function(a,d){for(var c={level:0};c.level<d.level;c={level:c.level},
c.level+=1)$.each(d.material,function(a){return function(c,e){b=-1!=e?b+rHelper.methods.CALC_returnPriceViaId(e)*d["materialAmount"+c][a.level]:b+d["materialAmount"+c][a.level]}}(c))});return b},CALC_perfectWorth:function(a){var b=0;"headquarter"==a?$.each(rHelper.data.headquarter,function(a,d){$.each(d.material,function(a,c){b+=d.amount*rHelper.methods.CALC_returnPriceViaId(c)})}):"buildings"==a&&$.each(rHelper.data.buildings,function(a,d){for(var c={level:0};10>c.level;c={level:c.level},c.level+=
1)$.each(d.material,function(a){return function(c,e){b=-1!=e?b+rHelper.methods.CALC_returnPriceViaId(e)*d["materialAmount"+c][a.level]:b+d["materialAmount"+c][a.level]}}(c))});return b},CALC_companyWorth:function(){var a=0;$.each(["CALC_totalHeadquarterErectionSum","CALC_totalBuildingErectionSum","CALC_totalFactoryErectionWorth","CALC_totalWarehouseErectionWorth","CALC_totalMineErectionSum"],function(b,c){a+=rHelper.methods[c]()});return a},CALC_totalHeadquarterErectionSum:function(){var a=0,b=rHelper.data.headquarter;
if(b.user){for(var b=b.user,c=b.level,d={},e=c-1;1<=e;d={hqLevel:d.hqLevel},--e)d.hqLevel=rHelper.data.headquarter[e],$.each(d.hqLevel.material,function(b){return function(c,d){a+=b.hqLevel.amount*rHelper.methods.CALC_returnPriceViaId(d)}}(d));10!=c&&$.each(b.paid,function(b,d){0!=d&&(a+=d*rHelper.methods.CALC_returnPriceViaId(rHelper.data.headquarter[c-1].material[b]))})}return a},CALC_totalMineErectionSum:function(){var a=0,b=rHelper.methods.CALC_totalMineCount();$.each(rHelper.data.material,function(c,
d){a+=d.basePrice*(1+.01*b)*d.amountOfMines});return Math.round(a)},CALC_totalWarehouseErectionWorth:function(){var a=0;$.each(["material","products","loot","units"],function(b,c){$.each(rHelper.data[c],function(b,c){for(var d=1;d<=c.warehouse.level;d+=1)a+=125E4*Math.pow(d-1,2)})});return a},CALC_totalFactoryErectionWorth:function(){var a=0;$.each(rHelper.data.products,function(b,c){for(var d={level:0};d.level<=c.factoryLevel;d={level:d.level},d.level+=1)$.each(c.upgradeMaterial,function(b){return function(d,
e){var f=Math.pow(b.level,2)*c.upgradeMaterialAmount[d];a=-1!=e?a+f*rHelper.methods.CALC_returnPriceViaId(e):a+f}}(d))});return a},CALC_unitsCraftingPrice:function(a){a=rHelper.data.units[a];var b=a.prices.current.ai,c=a.requiredAmount;$.each(a.requirements,function(a,d){var e=rHelper.methods.CALC_returnPriceViaId(d);b+=e*c[a]});var d=1;"undefined"!=typeof rHelper.data.settings[3]&&(d=rHelper.data.settings[3].value);1==d&&(b*=rHelper.data.buildings[9].transportCost);b=Math.round(b);return a.profit.craftingPrice=
b},CALC_unitsPricePerStrength:function(a){var b=0,c=rHelper.data.units[a].profit;switch(a){case 0:case 2:case 3:b=rHelper.data.buildings[3].level;break;case 1:case 4:case 5:b=rHelper.data.buildings[4].level}var d=c.marketPrice*rHelper.data.buildings[9].transportCost;return Math.round((d>=c.craftingPrice?c.craftingPrice:d)/(rHelper.data.units[a].baseStrength*b))},CALC_unitsProfit:function(a){a=rHelper.data.units[a].profit;var b=100*(1-a.marketPrice/a.craftingPrice),b=-1*b;return a.profit=b},CALC_recyclingProfit:function(a){a=
rHelper.data.loot[a].profit;return-100*(1-a.outputWorth/a.inputWorth)},CALC_recyclingInputWorth:function(a){var b=rHelper.data.loot[a],c=b.recyclingDivisor;a=rHelper.methods.CALC_returnPriceViaId(a+36,0)*c;c=1;"undefined"!=typeof rHelper.data.settings[3]&&(c=rHelper.data.settings[3].value);1==c&&(a*=rHelper.data.buildings[9].transportCost);a=Math.round(a);return b.profit.inputWorth=a},CALC_recyclingOutputWorth:function(a,b){var c=rHelper.data.loot[a].recyclingAmount,d=rHelper.data.loot[a].recyclingProduct,
e=0;$.isArray(d)?$.each(d,function(a,d){e+=rHelper.methods.CALC_recyclingOutputWorthHelper(b,d,c,a)}):e+=rHelper.methods.CALC_recyclingOutputWorthHelper(b,d,c);e=Math.round(e);return rHelper.data.loot[a].profit.outputWorth=e},CALC_recyclingOutputWorthHelper:function(a,b,c,d){b=rHelper.methods.CALC_returnPriceViaId(b,0);var e=c*a;$.isArray(c)&&(e=c[d]*a);return e*b},CALC_recyclingRequirement:function(a){return rHelper.data.loot[a].recyclingDivisor},CALC_recyclingProducts:function(a,b){var c=rHelper.data.loot[a].recyclingAmount,
d=rHelper.data.loot[a].recyclingProduct,e="";$.isArray(d)?$.each(d,function(a,d){e+=rHelper.methods.CALC_recyclingProductsHelper(b,d,c,a)}):e+=rHelper.methods.CALC_recyclingProductsHelper(b,d,c);return e},CALC_recyclingProductsHelper:function(a,b,c,d){b=rHelper.methods.CALC_convertId(b);b=$(crEl("span")).addClass(b.icon);var e=c*a;$.isArray(c)&&(e=c[d]*a);return b[0].outerHTML+" "+e.toLocaleString("en-US")+" "},CALC_buildingToLevel10:function(a){a=rHelper.data.buildings[a];for(var b=0,c=0,d=a.level;10>
d;d+=1)for(var e=0;3>=e;e+=1)if(0===e)b+=a.materialAmount0[d];else{var g="materialAmount"+e;rHelper.methods.CALC_convertId(a.material[e]);g=a[g][d];if("number"==typeof g)var g=rHelper.methods.CALC_returnPriceViaId(a.material[e])*g,f=(rHelper.data.buildings[9].transportCost-1)*g,b=b+g,c=c+f}return{level10Cost:b,level10Transportation:Math.round(c)}},CALC_warehouseUpgradeCost:function(a){return 125E4*Math.pow(a-1,2)},CALC_warehouseCostFromTo:function(a,b){for(var c=0,d=b;d>a;--d)c+=rHelper.methods.CALC_warehouseUpgradeCost(d);
return c},CALC_warehouseContingent:function(a){return 5E3*Math.pow(a,2)},CALC_warehouseUpgradeCostContigentBased:function(a,b){return 0+rHelper.methods.CALC_warehouseCostFromTo(a,Math.ceil(Math.sqrt(b/5E3)))},CALC_warehouseUpgradeCostOnInput:function(a,b,c){var d=$("#warehouse-"+b+"-calc-1-"+a).val();a=rHelper.data[b][a].warehouse.level;b=0;switch(d){case "level":b=rHelper.methods.CALC_warehouseCostFromTo(a,c);break;case "contingent":b=rHelper.methods.CALC_warehouseUpgradeCostContigentBased(a,c)}return b},
CALC_warehouseWorth:function(a,b){var c=0;switch(b){case "material":c=a;break;case "products":c=a+14;break;case "loot":c=a+36;break;case "units":c=a+51}return rHelper.methods.CALC_returnPriceViaId(c)},CALC_warehouseRemainingTimeToFull:function(a,b){var c=rHelper.data[b][a],d=c.warehouse.contingent-c.warehouse.fillAmount,e=1;"material"==b?e=c.perHour:"products"==b&&(e=c.scaling*c.factoryLevel*rHelper.methods.CALC_factoryMinWorkload(a));d/=e;return d=isNaN(d)||"products"==b&&0>=c.turnover||"loot"==
b||"units"==b?"\u221e":24<d?"> "+(d/24).toFixed(2)+" days":"> "+d.toFixed(2)+" hours"},CALC_warehouseTotalLevel:function(){var a=0;$.each(["material","products","loot","units"],function(b,c){$.each(rHelper.data[c],function(b,c){a+=c.warehouse.level})});return a},CALC_warehouseTotalWorth:function(){var a=0;$.each(["material","products","loot","units"],function(b,c){$.each(rHelper.data[c],function(b,e){a+=rHelper.methods.CALC_warehouseWorth(b,c)*e.warehouse.fillAmount})});return a},CALC_flowDistributionHelper:function(a,
b,c,d){var e,g,f=0,h="";"material"==a?(g=b-14,b=rHelper.data.products[g],$.isArray(b.dependencies)?(e=b.dependencies.indexOf(c),e=b.requiredAmount[e]):e=b.requiredAmount):(g=b,b=rHelper.data.products[b],$.isArray(b.dependencies)?(e=b.dependencies.indexOf(c+14),e=b.requiredAmount[e]):e=b.requiredAmount);0<b.turnover&&(f=b.factoryLevel*e);h+='<span class="resources-'+a+"-"+c+'"></span> '+f.toLocaleString("en-US")+' <svg xmlns="http://www.w3.org/2000/svg" width="15" fill="#fff" viewBox="0 0 31.49 31.49"><path d="M21.205 5.007c-.429-.444-1.143-.444-1.587 0-.429.429-.429 1.143 0 1.571l8.047 8.047H1.111C.492 14.626 0 15.118 0 15.737c0 .619.492 1.127 1.111 1.127h26.554l-8.047 8.032c-.429.444-.429 1.159 0 1.587.444.444 1.159.444 1.587 0l9.952-9.952c.444-.429.444-1.143 0-1.571l-9.952-9.953z"/></svg> <span class="resources-product-'+
g+'"></span> ';g="";b=b.name;switch(a){case "material":g=rHelper.data.material[c].name;break;case "product":g=rHelper.data.products[c].name}$("#flow-"+a+"-distribution-"+c+"-"+d).html(h).attr("data-th",g+" to "+b);return f},CALC_flowDistribution:function(a,b){var c=0,d={},e=0;switch(b){case "material":d=rHelper.data.material[a];c=d.perHour;break;case "product":var d=rHelper.data.products[a],c=d.factoryLevel,g=d.scaling,f=rHelper.methods.CALC_factoryMinWorkload(a),c=c*g*f}d=d.dependantFactories;$.isArray(d)?
$.each(d,function(c,d){e+=rHelper.methods.CALC_flowDistributionHelper(b,d,a,c)}):""!=d&&(e+=rHelper.methods.CALC_flowDistributionHelper(b,d,a,0));return c-e},CALC_flowRate:function(a,b){var c=0;switch(b){case "material":c=rHelper.data.material[a].perHour;break;case "product":var c=rHelper.data.products[a],d=rHelper.methods.CALC_factoryMinWorkload(a),c=c.factoryLevel*c.scaling*d}return c},CALC_factoryMinWorkload:function(a){a=rHelper.data.products[a].dependencyWorkload.min();1<a&&(a=1);return a},CALC_diamondTotalProfit:function(){var a=
0;$.each(rHelper.data.products,function(b,c){var d=c.diamond.profit;0<d&&(a+=d)});return a},CALC_diamondTop10Profit:function(){var a=[];$.each(rHelper.data.products,function(b,c){var d=c.diamond.profit;0<d&&a.push(d)});for(var b=0,a=a.sort(function(a,b){return b-a}),c=0;9>=c;c+=1)a[c]&&(b+=a[c]);return b},CALC_diamondEfficiency:function(a){a=rHelper.data.products[a].diamond;var b=a.outputWorth/(a.dependenciesWorth+a.productionCost);isNaN(b)&&(b=0);return a.efficiency=b},CALC_diamondProfit:function(a){a=
rHelper.data.products[a].diamond;a.profit=a.outputWorth-(a.dependenciesWorth+a.productionCost);return a.profit},CALC_nextGreaterWarehouseLevel:function(a){return Math.ceil(Math.sqrt(a/5E3))},CALC_diamondFactoryOutput:function(a){var b=rHelper.data.products[a],c=b.factoryLevel*b.scaling*120,d=120*b.cashPerHour;0==b.factoryLevel&&(d=0);rHelper.data.products[a].diamond={outputWorth:c*rHelper.methods.CALC_returnPriceViaId(a+14),dependenciesWorth:0,productionCost:d,efficiency:0,profit:0};return b.factoryLevel*
b.scaling*120},CALC_dependantFactoriesHelper:function(a,b){"material"==b&&(a-=14);$.each(["INSRT_factoryDependencies","INSRT_factoryWorkload","INSRT_factoryTurnover","INSRT_factoryTurnoverPerUpgrade","INSRT_factoryROI"],function(b,d){rHelper.methods[d](a)});rHelper.methods.INSRT_factoryHighlightColumns();""!=rHelper.data.products[a].dependantFactories&&rHelper.methods.CALC_dependantFactories(a,"product")},CALC_dependantFactories:function(a,b){var c="";switch(b){case "material":c=rHelper.data.material[a].dependantFactories;
break;case "product":c=rHelper.data.products[a].dependantFactories}$.isArray(c)?$.each(c,function(a,c){rHelper.methods.CALC_dependantFactoriesHelper(c,b)}):""!=c&&rHelper.methods.CALC_dependantFactoriesHelper(c,b)},CALC_factoryTurnoverPerUpgrade:function(a){var b=0;rHelper.methods.CALC_factoryMinWorkload(a);var c=[],b=rHelper.data.products[a].dependencies;$.isArray(b)?$.each(b,function(b){b=rHelper.methods.CALC_factoryDepedencyWorkload(a,b,"nextLevel");c.push(b)}):(b=rHelper.methods.CALC_factoryDepedencyWorkload(a,
0,"nextLevel"),c.push(b));b=c.min();1<b&&(b=1);b=parseInt(rHelper.methods.CALC_factoryTurnover(a,"nextLevel",b)-rHelper.data.products[a].turnover);10>b&&-10<b&&(b=0);return b},CALC_factoryDependencyExistingAmount:function(a,b){return a.perHour?a.perHour:a.factoryLevel*a.scaling},CALC_factoryWorkloadMinNonSanitized:function(a){return rHelper.data.products[a].dependencyWorkload.min()},CALC_factoryCashCostPerHour:function(a,b){var c=rHelper.data.products[a],d=c.factoryLevel;b&&(d+=1);return c.cashPerHour*
d},CALC_factoryTurnover:function(a,b,c){var d=rHelper.data.products[a],e=rHelper.methods.CALC_returnPriceViaId(a+14),g=d.factoryLevel,f=rHelper.methods.CALC_factoryCashCostPerHour(a,b),h=rHelper.methods.CALC_factoryMinWorkload(a),k=0;b&&(g+=1,h=c);c=d.scaling*g*e;$.isArray(d.dependencies)?$.each(d.dependencies,function(c){c=rHelper.methods.CALC_factoryDependencyWorth(a,c,b);k+=c}):(d=rHelper.methods.CALC_factoryDependencyWorth(a,0,b),k+=d);return(c-k-f)*h},CALC_factoryDependencyWorth:function(a,b,
c){var d=rHelper.data.products[a];a=d.factoryLevel;c&&(a+=1);$.isArray(d.dependencies)?(c=d.requiredAmount[b],b=rHelper.methods.CALC_returnPriceViaId(d.dependencies[b])):(c=d.requiredAmount,b=rHelper.methods.CALC_returnPriceViaId(d.dependencies));return a*c*b},CALC_factoryDepedencyWorkload:function(a,b,c){var d=rHelper.data.products[a];a=d.factoryLevel;c&&(a+=1);$.isArray(d.dependencies)?(c=d.dependencies[b],b=d.requiredAmount[b]):(c=d.dependencies,b=d.requiredAmount);b*=a;13>=c?a=rHelper.data.material[c].perHour:
(a=rHelper.methods.CALC_convertId(c),c=a.dependencyWorkload.min(),1<c&&(c=1),a=a.factoryLevel*a.scaling*c);b=a/b;if(isNaN(b)||Infinity===b)b=0;return b},CALC_factoryROI:function(a){return rHelper.data.products[a].upgradeCost/rHelper.data.products[a].turnoverIncrease/24},CALC_factoryComparatorRequiredVsExistingAmount:function(a,b){isNaN(b)&&(b=0);return b<a?'class="faulty-dependency"':""},CALC_factoryDependencyRequiredAmount:function(a,b){var c=rHelper.data.products[a];return($.isArray(c.requiredAmount)?
c.requiredAmount[b]:c.requiredAmount)*c.factoryLevel},CALC_totalFactoryUpgrades:function(){var a=0;$.each(rHelper.data.products,function(b,c){a+=c.factoryLevel});return a},CALC_factoryUpgradeCost:function(a){var b=rHelper.data.products[a].factoryLevel;"undefined"!=typeof b&&b||(b=0);var c=b+1,d=0,e=0,b=$(crEl("table")),g=$(crEl("tbody")),f,h;$.each(rHelper.data.products[a].upgradeMaterialAmount,function(b,k){var l=$(crEl("tr")),m;if(0===b)for(d+=k*Math.pow(c,2),m=0;2>=m;m+=1){f=$(crEl("td"));switch(m){case 0:var p=
$(crEl("img")).attr("src","assets/img/cash.png").attr("alt","Cash");f.append(p[0]);break;case 1:f.addClass("text-right").attr("colspan",3).text(d.toLocaleString("en-US"));break;case 2:h=$(crEl("small")).text("Transportation"),f.addClass("text-right text-warning").append(h[0])}l.append(f[0])}else{var p=rHelper.data.products[a].upgradeMaterial[b],q=k*Math.pow(c,2),v=rHelper.methods.CALC_returnPriceViaId(p)*q,w=(rHelper.data.buildings[9].transportCost-1)*v,t;d+=v;e+=w;p+=1;13>=p?t="material":14<=p&&
35>=p?(p-=14,t="product"):36<=p&&51>=p?(p-=36,t="loot"):(p-=51,t="units");for(m=0;4>=m;m+=1){f=$(crEl("td"));switch(m){case 0:f.addClass("resources-"+t+"-"+(p-1));break;case 1:f.addClass("text-right").text(q.toLocaleString("en-US"));break;case 2:f.text("\u2259");break;case 3:f.addClass("text-right").text(v.toLocaleString("en-US"));break;case 4:h=$(crEl("small")).addClass("text-warning").text(w.toLocaleString("en-US")),f.addClass("text-right").append(h[0])}l.append(f[0])}}g.append(l[0])});for(var k=
$(crEl("tr")),l=0;1>=l;l+=1)f=$(crEl("td")).addClass("text-right"),0===l?f.attr("colspan",4).text(d.toLocaleString("en-US")):(h=$(crEl("small")).addClass("text-warning").text(e.toLocaleString("en-US")),f.append(h[0])),k.append(f[0]);g.append(k[0]);b.append(g[0]);rHelper.data.products[a].upgradeCost=d;return{sum:d,title:b[0].outerHTML}},CALC_factoryOutput:function(a){a=rHelper.data.products[a];return a.factoryLevel*a.scaling},CALC_totalMineCount:function(){var a=0;$.each(rHelper.data.material,function(b,
c){a+=c.amountOfMines});return a},CALC_totalMineWorth:function(){var a=0;$.each(rHelper.data.material,function(b,c){a+=rHelper.methods.CALC_materialRateWorth(b)});return a},CALC_returnPriceViaId:function(a,b){var c="current 1day 3days 7days 4weeks 3months 6months 1year max".split(" "),d=0;"undefined"==typeof b?(d=2,"undefined"!=typeof rHelper.data.settings[5]&&(d=rHelper.data.settings[5].value),d=c[d]):"number"==typeof b&&(d=c[b]);c=rHelper.methods.CALC_convertId(a).prices[d];return c.ai>=c.player?
c.ai:c.player},CALC_convertId:function(a){return 13>=a?rHelper.data.material[a]:14<=a&&35>=a?rHelper.data.products[a-14]:36<=a&&51>=a?rHelper.data.loot[a-36]:rHelper.data.units[a-52]},CALC_materialNewMinePrice:function(a,b){return Math.round(rHelper.data.material[b].basePrice*(1+a/50))},CALC_materialRateWorth:function(a){return rHelper.data.material[a].perHour*rHelper.methods.CALC_returnPriceViaId(a)},CALC_materialMinePerfectIncome:function(a){return rHelper.data.material[a].maxRate*rHelper.methods.CALC_returnPriceViaId(a)},
CALC_materialMineROI:function(a){for(var b=[],c=0;13>=c;c+=1){var d=rHelper.methods.CALC_materialNewMinePrice(rHelper.methods.CALC_totalMineCount(),c),e=rHelper.methods.CALC_materialMinePerfectIncome(c),g=rHelper.methods.CALC_customTUPrice();switch(a){case "100":b.push(d/e/24);break;case "505":b.push((d+g)/e/24/5.05);break;case "505hq":var f=1;rHelper.data.headquarter.user&&(f=rHelper.data.headquarter.user.level);b.push((d+g)/e/24/5.05/(rHelper.data.headquarter[f-1].boost-.9))}}return b},CALC_customTUPrice:function(){var a=
0,b=rHelper.data.settings[1],c=[111,26,0,0];"undefined"!=typeof b&&(c=b.value);for(b=0;3>=b;b+=1)a+=c[b]*rHelper.methods.CALC_returnPriceViaId(46+b);return a}},graphs:{gaugeOptions:{chart:{type:"solidgauge",backgroundColor:"transparent"},title:null,pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:!1},yAxis:{minColor:"rgba(255, 127, 80, 0.75)",maxColor:"rgba(154, 205, 50, 0.75)",
lineWidth:0,minorTickInterval:null,title:{y:-70},labels:{y:16}},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,style:{color:"#dedede"},useHTML:!0}}}},material:{target:"graph-material",categories:[],mineData:[],incomeData:[],data:[],colors:"#8a4f3e #a4938e #aba59a #2d2c2b #8a5a3a #d8d8d8 #b58359 #b87259 #9b7953 #c4b9ab #957e60 #cccbc2 #b28b3d #b0a17d".split(" "),reference:{mineCount:0,mineIncome:0},seriesNames:["Mines","Mine income"],responsiveId:"income",titleText:"mine distribution vs mine income"}},
data:{},tu:[{tu1:145,tu2:1,tu3:2,tu4:2,factor:5.049546987548256},{tu1:142,tu2:4,tu3:1,tu4:2,factor:5.049537328215894},{tu1:141,tu2:1,tu3:5,tu4:1,factor:5.049975808955912},{tu1:139,tu2:7,tu3:0,tu4:2,factor:5.04952766890201},{tu1:138,tu2:4,tu3:4,tu4:1,factor:5.049966148803255},{tu1:135,tu2:7,tu3:3,tu4:1,factor:5.049956488669072},{tu1:135,tu2:2,tu3:8,tu4:0,factor:5.049909577605985},{tu1:132,tu2:10,tu3:2,tu4:1,factor:5.049946828553374},{tu1:132,tu2:5,tu3:7,tu4:0,factor:5.049899917580023},{tu1:129,tu2:13,
tu3:1,tu4:1,factor:5.049937168456153},{tu1:129,tu2:8,tu3:6,tu4:0,factor:5.049890257572537},{tu1:126,tu2:16,tu3:0,tu4:1,factor:5.049927508377411},{tu1:126,tu2:11,tu3:5,tu4:0,factor:5.049880597583531},{tu1:123,tu2:14,tu3:4,tu4:0,factor:5.0498709376130035},{tu1:120,tu2:17,tu3:3,tu4:0,factor:5.0498612776609555},{tu1:117,tu2:20,tu3:2,tu4:0,factor:5.049851617727384},{tu1:114,tu2:23,tu3:1,tu4:0,factor:5.049841957812293},{tu1:111,tu2:26,tu3:0,tu4:0,factor:5.049832297915679},{tu1:99,tu2:0,tu3:0,tu4:13,factor:5.0498315619730025},
{tu1:93,tu2:1,tu3:3,tu4:12,factor:5.049765332514903},{tu1:90,tu2:4,tu3:2,tu4:12,factor:5.049755672764868},{tu1:87,tu2:7,tu3:1,tu4:12,factor:5.049746013033308},{tu1:87,tu2:2,tu3:6,tu4:11,factor:5.0496991039254135},{tu1:84,tu2:10,tu3:0,tu4:12,factor:5.04973635332023},{tu1:84,tu2:5,tu3:5,tu4:11,factor:5.049689444302067},{tu1:84,tu2:0,tu3:10,tu4:10,factor:5.049642535719661},{tu1:81,tu2:8,tu3:4,tu4:11,factor:5.049679784697198},{tu1:81,tu2:3,tu3:9,tu4:10,factor:5.049632876204525},{tu1:78,tu2:11,tu3:3,tu4:11,
factor:5.049670125110809},{tu1:78,tu2:6,tu3:8,tu4:10,factor:5.049623216707865},{tu1:78,tu2:1,tu3:13,tu4:9,factor:5.049576308740673},{tu1:75,tu2:14,tu3:2,tu4:11,factor:5.049660465542896},{tu1:75,tu2:9,tu3:7,tu4:10,factor:5.0496135572296845},{tu1:75,tu2:4,tu3:12,tu4:9,factor:5.049566649352222},{tu1:72,tu2:17,tu3:1,tu4:11,factor:5.049650805993463},{tu1:72,tu2:12,tu3:6,tu4:10,factor:5.049603897769982},{tu1:72,tu2:7,tu3:11,tu4:9,factor:5.049556989982251},{tu1:72,tu2:2,tu3:16,tu4:8,factor:5.049510082630265},
{tu1:71,tu2:4,tu3:15,tu4:8,factor:5.049995472429614},{tu1:69,tu2:20,tu3:0,tu4:11,factor:5.049641146462505},{tu1:69,tu2:15,tu3:5,tu4:10,factor:5.049594238328755},{tu1:69,tu2:10,tu3:10,tu4:9,factor:5.049547330630755},{tu1:69,tu2:5,tu3:15,tu4:8,factor:5.0495004233685},{tu1:68,tu2:7,tu3:14,tu4:8,factor:5.049985812239343},{tu1:68,tu2:2,tu3:19,tu4:7,factor:5.049938900903856},{tu1:66,tu2:18,tu3:4,tu4:10,factor:5.049584578906008},{tu1:66,tu2:13,tu3:9,tu4:9,factor:5.049537671297738},{tu1:65,tu2:10,tu3:13,
tu4:8,factor:5.049976152067548},{tu1:65,tu2:5,tu3:18,tu4:7,factor:5.0499292408218},{tu1:65,tu2:0,tu3:23,tu4:6,factor:5.049882330011827},{tu1:63,tu2:21,tu3:3,tu4:10,factor:5.049574919501737},{tu1:63,tu2:16,tu3:8,tu4:9,factor:5.049528011983197},{tu1:62,tu2:13,tu3:12,tu4:8,factor:5.049966491914233},{tu1:62,tu2:8,tu3:17,tu4:7,factor:5.049919580758222},{tu1:62,tu2:3,tu3:22,tu4:6,factor:5.049872670037985},{tu1:60,tu2:24,tu3:2,tu4:10,factor:5.049565260115945},{tu1:60,tu2:19,tu3:7,tu4:9,factor:5.0495183526871354},
{tu1:59,tu2:16,tu3:11,tu4:8,factor:5.049956831779397},{tu1:59,tu2:11,tu3:16,tu4:7,factor:5.049909920713121},{tu1:59,tu2:6,tu3:21,tu4:6,factor:5.049863010082621},{tu1:59,tu2:1,tu3:26,tu4:5,factor:5.049816099887894},{tu1:57,tu2:27,tu3:1,tu4:10,factor:5.049555600748631},{tu1:57,tu2:22,tu3:6,tu4:9,factor:5.049508693409551},{tu1:56,tu2:24,tu3:5,tu4:9,factor:5.049994083075359},{tu1:56,tu2:19,tu3:10,tu4:8,factor:5.0499471716630415},{tu1:56,tu2:14,tu3:15,tu4:7,factor:5.049900260686504},{tu1:56,tu2:9,tu3:20,
tu4:6,factor:5.049853350145739},{tu1:56,tu2:4,tu3:25,tu4:5,factor:5.049806440040745},{tu1:54,tu2:30,tu3:0,tu4:10,factor:5.049545941399794},{tu1:53,tu2:27,tu3:4,tu4:9,factor:5.049984422887742},{tu1:53,tu2:22,tu3:9,tu4:8,factor:5.049937511565163},{tu1:53,tu2:17,tu3:14,tu4:7,factor:5.049890600678362},{tu1:53,tu2:12,tu3:19,tu4:6,factor:5.049843690227331},{tu1:53,tu2:7,tu3:24,tu4:5,factor:5.049796780212072},{tu1:53,tu2:2,tu3:29,tu4:4,factor:5.04974987063258},{tu1:50,tu2:30,tu3:3,tu4:9,factor:5.049974762718609},
{tu1:50,tu2:25,tu3:8,tu4:8,factor:5.049927851485765},{tu1:50,tu2:20,tu3:13,tu4:7,factor:5.0498809406887},{tu1:50,tu2:15,tu3:18,tu4:6,factor:5.049834030327405},{tu1:50,tu2:10,tu3:23,tu4:5,factor:5.049787120401883},{tu1:50,tu2:5,tu3:28,tu4:4,factor:5.049740210912124},{tu1:50,tu2:0,tu3:33,tu4:3,factor:5.049693301858126},{tu1:47,tu2:33,tu3:2,tu4:9,factor:5.04996510256795},{tu1:47,tu2:28,tu3:7,tu4:8,factor:5.049918191424844},{tu1:47,tu2:23,tu3:12,tu4:7,factor:5.049871280717514},{tu1:47,tu2:18,tu3:17,tu4:6,
factor:5.049824370445955},{tu1:47,tu2:13,tu3:22,tu4:5,factor:5.049777460610167},{tu1:47,tu2:8,tu3:27,tu4:4,factor:5.049730551210141},{tu1:47,tu2:3,tu3:32,tu4:3,factor:5.049683642245876},{tu1:45,tu2:1,tu3:1,tu4:23,factor:5.04955486484628},{tu1:44,tu2:36,tu3:1,tu4:9,factor:5.049955442435773},{tu1:44,tu2:31,tu3:6,tu4:8,factor:5.0499085313824015},{tu1:44,tu2:26,tu3:11,tu4:7,factor:5.04986162076481},{tu1:44,tu2:21,tu3:16,tu4:6,factor:5.049814710582987},{tu1:44,tu2:16,tu3:21,tu4:5,factor:5.049767800836931},
{tu1:44,tu2:11,tu3:26,tu4:4,factor:5.049720891526639},{tu1:44,tu2:6,tu3:31,tu4:3,factor:5.049673982652109},{tu1:44,tu2:1,tu3:36,tu4:2,factor:5.049627074213331},{tu1:42,tu2:4,tu3:0,tu4:23,factor:5.04954520549885},{tu1:41,tu2:39,tu3:0,tu4:9,factor:5.049945782322073},{tu1:41,tu2:34,tu3:5,tu4:8,factor:5.049898871358441},{tu1:41,tu2:29,tu3:10,tu4:7,factor:5.049851960830583},{tu1:41,tu2:24,tu3:15,tu4:6,factor:5.049805050738495},{tu1:41,tu2:19,tu3:20,tu4:5,factor:5.049758141082175},{tu1:41,tu2:14,tu3:25,
tu4:4,factor:5.0497112318616155},{tu1:41,tu2:9,tu3:30,tu4:3,factor:5.049664323076817},{tu1:41,tu2:4,tu3:35,tu4:2,factor:5.049617414727771},{tu1:41,tu2:1,tu3:4,tu4:22,factor:5.049983686922897},{tu1:38,tu2:37,tu3:4,tu4:8,factor:5.049889211352958},{tu1:38,tu2:32,tu3:9,tu4:7,factor:5.049842300914835},{tu1:38,tu2:27,tu3:14,tu4:6,factor:5.0497953909124815},{tu1:38,tu2:22,tu3:19,tu4:5,factor:5.049748481345896},{tu1:38,tu2:17,tu3:24,tu4:4,factor:5.04970157221507},{tu1:38,tu2:12,tu3:29,tu4:3,factor:5.049654663520003},
{tu1:38,tu2:7,tu3:34,tu4:2,factor:5.049607755260688},{tu1:38,tu2:4,tu3:3,tu4:22,factor:5.049974026755169},{tu1:38,tu2:2,tu3:39,tu4:1,factor:5.0495608474371245},{tu1:35,tu2:40,tu3:3,tu4:8,factor:5.049879551365952},{tu1:35,tu2:35,tu3:8,tu4:7,factor:5.049832641017565},{tu1:35,tu2:30,tu3:13,tu4:6,factor:5.049785731104946},{tu1:35,tu2:25,tu3:18,tu4:5,factor:5.049738821628093},{tu1:35,tu2:20,tu3:23,tu4:4,factor:5.049691912587002},{tu1:35,tu2:15,tu3:28,tu4:3,factor:5.049645003981666},{tu1:35,tu2:10,tu3:33,
tu4:2,factor:5.049598095812083},{tu1:35,tu2:7,tu3:2,tu4:22,factor:5.049964366605918},{tu1:35,tu2:5,tu3:38,tu4:1,factor:5.04955118807825},{tu1:35,tu2:2,tu3:7,tu4:21,factor:5.04991745546965},{tu1:35,tu2:0,tu3:43,tu4:0,factor:5.049504280780161},{tu1:34,tu2:2,tu3:42,tu4:0,factor:5.049989670021802},{tu1:32,tu2:43,tu3:2,tu4:8,factor:5.049869891397425},{tu1:32,tu2:38,tu3:7,tu4:7,factor:5.049822981138776},{tu1:32,tu2:33,tu3:12,tu4:6,factor:5.0497760713158915},{tu1:32,tu2:28,tu3:17,tu4:5,factor:5.049729161928772},
{tu1:32,tu2:23,tu3:22,tu4:4,factor:5.049682252977412},{tu1:32,tu2:18,tu3:27,tu4:3,factor:5.049635344461809},{tu1:32,tu2:13,tu3:32,tu4:2,factor:5.049588436381957},{tu1:32,tu2:10,tu3:1,tu4:22,factor:5.049954706475151},{tu1:32,tu2:8,tu3:37,tu4:1,factor:5.049541528737853},{tu1:32,tu2:5,tu3:6,tu4:21,factor:5.049907795428617},{tu1:32,tu2:0,tu3:11,tu4:20,factor:5.0498608848178606},{tu1:31,tu2:5,tu3:41,tu4:0,factor:5.049980009842626},{tu1:29,tu2:46,tu3:1,tu4:8,factor:5.049860231447379},{tu1:29,tu2:41,tu3:6,
tu4:7,factor:5.049813321278463},{tu1:29,tu2:36,tu3:11,tu4:6,factor:5.0497664115453125},{tu1:29,tu2:31,tu3:16,tu4:5,factor:5.049719502247926},{tu1:29,tu2:26,tu3:21,tu4:4,factor:5.049672593386299},{tu1:29,tu2:21,tu3:26,tu4:3,factor:5.049625684960429},{tu1:29,tu2:16,tu3:31,tu4:2,factor:5.049578776970308},{tu1:29,tu2:13,tu3:0,tu4:22,factor:5.049945046362859},{tu1:29,tu2:11,tu3:36,tu4:1,factor:5.049531869415934},{tu1:29,tu2:8,tu3:5,tu4:21,factor:5.049898135406062},{tu1:29,tu2:3,tu3:10,tu4:20,factor:5.049851224885041},
{tu1:28,tu2:8,tu3:40,tu4:0,factor:5.0499703496819315},{tu1:26,tu2:49,tu3:0,tu4:8,factor:5.049850571515811},{tu1:26,tu2:44,tu3:5,tu4:7,factor:5.04980366143663},{tu1:26,tu2:39,tu3:10,tu4:6,factor:5.049756751793213},{tu1:26,tu2:34,tu3:15,tu4:5,factor:5.049709842585562},{tu1:26,tu2:29,tu3:20,tu4:4,factor:5.049662933813666},{tu1:26,tu2:24,tu3:25,tu4:3,factor:5.049616025477527},{tu1:26,tu2:19,tu3:30,tu4:2,factor:5.049569117577137},{tu1:26,tu2:14,tu3:35,tu4:1,factor:5.049522210112495},{tu1:26,tu2:11,tu3:4,
tu4:21,factor:5.049888475401987},{tu1:26,tu2:6,tu3:9,tu4:20,factor:5.049841564970703},{tu1:26,tu2:1,tu3:14,tu4:19,factor:5.049794654975186},{tu1:25,tu2:11,tu3:39,tu4:0,factor:5.049960689539718},{tu1:23,tu2:47,tu3:4,tu4:7,factor:5.049794001613272},{tu1:23,tu2:42,tu3:9,tu4:6,factor:5.049747092059591},{tu1:23,tu2:37,tu3:14,tu4:5,factor:5.049700182941672},{tu1:23,tu2:32,tu3:19,tu4:4,factor:5.0496532742595095},{tu1:23,tu2:27,tu3:24,tu4:3,factor:5.0496063660131005},{tu1:23,tu2:22,tu3:29,tu4:2,factor:5.049559458202443},
{tu1:23,tu2:17,tu3:34,tu4:1,factor:5.049512550827528},{tu1:23,tu2:14,tu3:3,tu4:21,factor:5.04987881541639},{tu1:23,tu2:9,tu3:8,tu4:20,factor:5.049831905074838},{tu1:23,tu2:4,tu3:13,tu4:19,factor:5.049784995169057},{tu1:22,tu2:19,tu3:33,tu4:1,factor:5.049997940864136},{tu1:22,tu2:14,tu3:38,tu4:0,factor:5.049951029415983},{tu1:20,tu2:50,tu3:3,tu4:7,factor:5.0497843418083965},{tu1:20,tu2:45,tu3:8,tu4:6,factor:5.049737432344448},{tu1:20,tu2:40,tu3:13,tu4:5,factor:5.0496905233162614},{tu1:20,tu2:35,tu3:18,
tu4:4,factor:5.0496436147238315},{tu1:20,tu2:30,tu3:23,tu4:3,factor:5.049596706567155},{tu1:20,tu2:25,tu3:28,tu4:2,factor:5.0495497988462255},{tu1:20,tu2:20,tu3:33,tu4:1,factor:5.049502891561041},{tu1:20,tu2:17,tu3:2,tu4:21,factor:5.049869155449271},{tu1:20,tu2:12,tu3:7,tu4:20,factor:5.049822245197458},{tu1:20,tu2:7,tu3:12,tu4:19,factor:5.049775335381408},{tu1:20,tu2:2,tu3:17,tu4:18,factor:5.049728426001126},{tu1:19,tu2:22,tu3:32,tu4:1,factor:5.04998828066914},{tu1:19,tu2:17,tu3:37,tu4:0,factor:5.049941369310724},
{tu1:17,tu2:53,tu3:2,tu4:7,factor:5.049774682021998},{tu1:17,tu2:48,tu3:7,tu4:6,factor:5.049727772647783},{tu1:17,tu2:43,tu3:12,tu4:5,factor:5.049680863709329},{tu1:17,tu2:38,tu3:17,tu4:4,factor:5.049633955206633},{tu1:17,tu2:33,tu3:22,tu4:3,factor:5.049587047139687},{tu1:17,tu2:28,tu3:27,tu4:2,factor:5.049540139508489},{tu1:17,tu2:20,tu3:1,tu4:21,factor:5.049859495500633},{tu1:17,tu2:15,tu3:6,tu4:20,factor:5.049812585338551},{tu1:17,tu2:10,tu3:11,tu4:19,factor:5.04976567561224},{tu1:17,tu2:5,tu3:16,
tu4:18,factor:5.04971876632169},{tu1:17,tu2:0,tu3:21,tu4:17,factor:5.049671857466898},{tu1:16,tu2:25,tu3:31,tu4:1,factor:5.0499786204926265},{tu1:16,tu2:20,tu3:36,tu4:0,factor:5.049931709223946},{tu1:14,tu2:56,tu3:1,tu4:7,factor:5.049765022254077},{tu1:14,tu2:51,tu3:6,tu4:6,factor:5.049718112969596},{tu1:14,tu2:46,tu3:11,tu4:5,factor:5.049671204120877},{tu1:14,tu2:41,tu3:16,tu4:4,factor:5.0496242957079085},{tu1:14,tu2:36,tu3:21,tu4:3,factor:5.049577387730693},{tu1:14,tu2:31,tu3:26,tu4:2,factor:5.049530480189225},
{tu1:14,tu2:23,tu3:0,tu4:21,factor:5.04984983557047},{tu1:14,tu2:18,tu3:5,tu4:20,factor:5.049802925498126},{tu1:14,tu2:13,tu3:10,tu4:19,factor:5.049756015861548},{tu1:14,tu2:8,tu3:15,tu4:18,factor:5.049709106660732},{tu1:14,tu2:3,tu3:20,tu4:17,factor:5.049662197895673},{tu1:13,tu2:28,tu3:30,tu4:1,factor:5.049968960334589},{tu1:13,tu2:23,tu3:35,tu4:0,factor:5.049922049155645},{tu1:11,tu2:59,tu3:0,tu4:7,factor:5.049755362504633},{tu1:11,tu2:54,tu3:5,tu4:6,factor:5.049708453309886},{tu1:11,tu2:49,tu3:10,
tu4:5,factor:5.049661544550898},{tu1:11,tu2:44,tu3:15,tu4:4,factor:5.049614636227664},{tu1:11,tu2:39,tu3:20,tu4:3,factor:5.049567728340177},{tu1:11,tu2:34,tu3:25,tu4:2,factor:5.04952082088844},{tu1:11,tu2:21,tu3:4,tu4:20,factor:5.049793265676176},{tu1:11,tu2:16,tu3:9,tu4:19,factor:5.049746356129333},{tu1:11,tu2:11,tu3:14,tu4:18,factor:5.049699447018249},{tu1:11,tu2:6,tu3:19,tu4:17,factor:5.049652538342924},{tu1:11,tu2:1,tu3:24,tu4:16,factor:5.0496056301033505},{tu1:10,tu2:31,tu3:29,tu4:1,factor:5.049959300195031},
{tu1:10,tu2:26,tu3:34,tu4:0,factor:5.049912389105826},{tu1:8,tu2:57,tu3:4,tu4:6,factor:5.0496987936686555},{tu1:8,tu2:52,tu3:9,tu4:5,factor:5.049651884999401},{tu1:8,tu2:47,tu3:14,tu4:4,factor:5.049604976765895},{tu1:8,tu2:42,tu3:19,tu4:3,factor:5.0495580689681425},{tu1:8,tu2:37,tu3:24,tu4:2,factor:5.049511161606134},{tu1:8,tu2:24,tu3:3,tu4:20,factor:5.049783605872708},{tu1:8,tu2:19,tu3:8,tu4:19,factor:5.049736696415597},{tu1:8,tu2:14,tu3:13,tu4:18,factor:5.0496897873942475},{tu1:8,tu2:9,tu3:18,tu4:17,
factor:5.049642878808654},{tu1:8,tu2:4,tu3:23,tu4:16,factor:5.049595970658812},{tu1:7,tu2:39,tu3:23,tu4:2,factor:5.0499965515092},{tu1:7,tu2:34,tu3:28,tu4:1,factor:5.049949640073952},{tu1:7,tu2:29,tu3:33,tu4:0,factor:5.049902729074482},{tu1:5,tu2:60,tu3:3,tu4:6,factor:5.049689134045903},{tu1:5,tu2:55,tu3:8,tu4:5,factor:5.0496422254663775},{tu1:5,tu2:50,tu3:13,tu4:4,factor:5.049595317322606},{tu1:5,tu2:45,tu3:18,tu4:3,factor:5.049548409614583},{tu1:5,tu2:40,tu3:23,tu4:2,factor:5.049501502342305},{tu1:5,
tu2:27,tu3:2,tu4:20,factor:5.049773946087716},{tu1:5,tu2:22,tu3:7,tu4:19,factor:5.049727036720341},{tu1:5,tu2:17,tu3:12,tu4:18,factor:5.049680127788722},{tu1:5,tu2:12,tu3:17,tu4:17,factor:5.04963321929286},{tu1:5,tu2:7,tu3:22,tu4:16,factor:5.0495863112327495},{tu1:5,tu2:2,tu3:27,tu4:15,factor:5.049539403608389},{tu1:4,tu2:42,tu3:22,tu4:2,factor:5.0499868913168635},{tu1:4,tu2:37,tu3:27,tu4:1,factor:5.049939979971354},{tu1:4,tu2:32,tu3:32,tu4:0,factor:5.049893069061621},{tu1:2,tu2:63,tu3:2,tu4:6,factor:5.049679474441627},
{tu1:2,tu2:58,tu3:7,tu4:5,factor:5.049632565951837},{tu1:2,tu2:53,tu3:12,tu4:4,factor:5.0495856578977945},{tu1:2,tu2:48,tu3:17,tu4:3,factor:5.049538750279503},{tu1:2,tu2:30,tu3:1,tu4:20,factor:5.049764286321205},{tu1:2,tu2:25,tu3:6,tu4:19,factor:5.049717377043561},{tu1:2,tu2:20,tu3:11,tu4:18,factor:5.049670468201676},{tu1:2,tu2:15,tu3:16,tu4:17,factor:5.049623559795545},{tu1:2,tu2:10,tu3:21,tu4:16,factor:5.0495766518251655},{tu1:2,tu2:5,tu3:26,tu4:15,factor:5.049529744290536},{tu1:1,tu2:45,tu3:21,
tu4:2,factor:5.049977231143005},{tu1:1,tu2:40,tu3:26,tu4:1,factor:5.049930319887234},{tu1:1,tu2:35,tu3:31,tu4:0,factor:5.049883409067237},{tu1:1,tu2:2,tu3:30,tu4:14,factor:5.0499682243719946}]};
(function(){$("#loading-text").text("fetching data");"undefined"!=typeof localStorage.rGame&&1!=getCookie("loggedIn")?(rHelper.data=JSON.parse(localStorage.getItem("rGame")),loadingAnimToggler("hide"),console.log("Found existing data!"),rHelper.init.core()):$.get({url:"api/core.php",success:function(a){rHelper.data=a;localStorage.setItem("rGame",JSON.stringify(a));loadingAnimToggler("hide");switch(parseInt(getCookie("loggedIn"))){case 1:console.log("Returning user - fetched existing data!");break;
default:console.log("New user - fetched basic data!")}rHelper.init.user()},error:function(a){swal("Error fetching data","Error message:<br />"+a+"<br /> Please try again.","error")}})})();var openedWindow;
